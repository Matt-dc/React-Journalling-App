{"version":3,"sources":["UserContext.js","ContextWrapper.js","components/utils/spinner.js","components/utils/error404.js","components/authentication/signin/loginModal.js","components/authentication/signup/signUpModal.js","components/authentication/signin/logoutModal.js","components/layout/sidebar/sidebarItem.js","components/layout/sidebar/sidebarModal.js","components/utils/loginWarningModal.js","components/layout/navBar.js","components/layout/footer.js","components/utils/authorThumbnail.js","components/pages/homepage/centerThumbnail.js","components/pages/homepage/personalizedThumbnail.js","components/pages/homepage/followingThumbnail.js","components/pages/homepage/popularThumbnail.js","components/pages/homepage/featuredThumbnailLeft.js","components/pages/homepage/featuredThumbnailRight.js","components/pages/homepage/signupBanner.js","components/pages/homepage/home.js","components/pages/about.js","components/comments/replyForm.js","components/comments/replyItem.js","components/comments/commentItem.js","components/comments/commentForm.js","components/comments/commentsController.js","components/utils/toggleFollowButton.js","components/pages/post/postStats.js","components/pages/post/postHeader.js","components/pages/post/editPostModal.js","components/utils/deleteWarningModal.js","components/pages/post/post.js","components/pages/topicPage/topicHeaderPost.js","components/pages/topicPage/topicPageItem.js","components/pages/topicPage/topicPage.js","components/pages/termsAndConditions.js","components/pages/authorProfilePage/authorLatestPostItem.js","components/pages/authorProfilePage/authorProfilePage.js","components/authentication/signup/checkEmail.js","components/authentication/signin/loginPage.js","components/authentication/signin/forgotPassword.js","components/authentication/signin/setNewPassword.js","components/utils/getDate.js","components/authentication/signup/signUpForm.js","components/authentication/signup/confirm.js","components/authentication/signup/topic.js","components/authentication/signup/chooseTopics.js","components/pages/authRoutes/userPosts/userPostsItem.js","components/pages/authRoutes/userPosts/userPostsFeed.js","components/pages/authRoutes/createPost.js","components/pages/authRoutes/savedPostsFeed/savedPostsFeedItem.js","components/pages/authRoutes/savedPostsFeed/savedPostsFeed.js","components/pages/authRoutes/editProfile.js","components/pages/authRoutes/userHistory/userHistoryItem.js","components/pages/authRoutes/userHistory/userHistoryFeed.js","components/pages/authRoutes/followedUsersList/followButton.js","components/pages/authRoutes/followedUsersList/followedUsersListItem.js","components/pages/authRoutes/followedUsersList/followedUsersList.js","components/pages/popularPostsFeed/popularPostsFeedItem.js","components/pages/popularPostsFeed/popularHeaderPost.js","components/pages/popularPostsFeed/popularPostsFeed.js","components/pages/authRoutes/personalizedFeed/personalizedFeedItem.js","components/pages/authRoutes/personalizedFeed/personalizedFeed.js","App.js","serviceWorker.js","index.js"],"names":["UserContext","React","createContext","UserProvider","UserController","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateUser","user","setState","state","topics","topic","image","value","react_default","a","createElement","Provider","isAuth","userId","avatarImage","username","children","Component","UserConsumer","Consumer","ContextWrapper","_ref","author","assign","Spinner","Container","Row","className","Col","concat","spinning","class","size","Error","style","margin","textAlign","Button","href","LoginModal","changeHandler","e","email","password","redirect","_this2","spinner","redirectTo","Redirect","to","Modal","Header","Body","sm","md","fontSize","color","marginBottom","Form","onSubmit","handleUserLogin","Group","Label","Control","type","id","name","onChange","Link","onClick","hideLogin","error","event","showSignup","marginLeft","cursor","SignUp","modal","submitted","msg","title","body","Footer","hideSignup","pathname","set","btnTxt","handleUserSignup","controlId","placeholder","Text","variant","sendingEmail","showLogin","Fragment","confirming","Image","src","width","SidebarItem","fol","_id","height","display","SidebarModal","onHide","show","alt","followedUsers","slice","map","LoginWarningModal","Title","warnLogin","_useState","useState","_useState2","slicedToArray","showLoginModal","setShowLogin","_useState3","_useState4","showSignupModal","setShowSignup","_useState5","_useState6","showLogoutModal","setShowLogout","_useState7","_useState8","handleHideLogin","handleHideSignup","handleShowLogin","handleShowSignup","_React$createElement","Navbar","bg","expand","Nav","toggleSidebar","Brand","defineProperty","Toggle","aria-controls","Collapse","handleUserLogout","Item","loginModal","signUpModal_SignUp","logoutModal","showSidebar","loginWarning","footer","marginTop","fixed","sticky","AuthorDetails","post","authorId","authorAvatar","marginRight","date","comments","savedArticles","indexOf","toggleSaveHandler","padding","lg","xs","tagline","substring","bookmark","FollowingThumbnail","index","Banner","target","handleSubmit","preventDefault","trimmed","replace","test","emailObj","axios","then","res","data","catch","err","console","log","content","Home","savedArticle","obj","toToggle","put","saved_articles","login","posts","personalized","popular","following","loading","get","_this3","readingHistory","topicsString","JSON","stringify","followingList","_this4","length","personalizedThumbnail","featuredThumbnailLeft","centerThumbnail","featuredThumbnailRight","signupBanner_Banner","followingThumbnail","popularThumbnail","About","ReplyForm","replyChangeHandler","showReply","as","replyValue","rows","onFocus","handleSubmitReply","comment","closeReplyInput","setShowReply","handleShowReply","onClickBackground","setBackground","timeStamp","Date","now","reply","Math","round","borderTop","replyTo","handleReplyLike","commentId","replyId","onMouseDown","onMouseUp","commentLikes","includes","handleReplyDelete","replyForm","handleReplyChange","showReplyInput","handleCommentLike","handleCommentDelete","replies","replyItem","commentChangeHandler","handleSubmitComment","img","savedComments","commentsObject","handleCommentChange","userComment","uuid","v4","updatedComments","articleId","toConsumableArray","closed","filter","commentsObj","resData","repliedToComment","replyObject","objectSpread","prevState","like","replyToDelete","updatedReplies","prevProps","commentForm","commentItem","getTimeStamp","ToggleFollowButton","handleFollow","PostStats","handleLike","userLikes","postLikes","readLength","views","PostHeader","editUserArticle","fileRef","createRef","dialogClassName","fileChangeHandler","ref","current","click","titleLen","taglineLen","ts","init","plugins","toolbar","handleEditorChange","cancelPostEdit","submitUpdatedArticle","deleteUserWarning","DeleteWarningModal","closeWarningModal","deleteUserPost","editedPostId","getReadLength","postReadLength","split","minuteRead","likes","_this$setState","getContent","editing","files","formData","FormData","append","headers","Content-Type","updatedPost","deleting","delete","deleted","match","params","userObj","reading_history","dangerouslySetInnerHTML","__html","commentsController","editPostModal","topicArray","topicPage_topicHeaderPost","topicPageItem","Terms","AuthorLatestPostItem","AuthorProfile","get_user","FollowingOrError","toFollow","joined","disabled","nextProps","prevUserId","CheckEmail","showRedirect","LoginPage","handleChange","ForgotPassword","passwordUpdated","password2","noMatch","toggleViewPassword","updatedPwd","token","status","_React$createElement2","textDecoration","aria-hidden","getDate","dd","mm","getMonth","yyyy","getYear","SignUpForm","handleSignUp","dateNow","newUser","toString","location","fileUpload","Confirm","failed","ytyle","Topic","backgroundImage","topicImage","background","fontWeight","zIndex","boxShadow","topicHandler","onMouseEnter","mouseEnter","onMouseLeave","mouseLeave","ChooseTopics","saved","chosenTopicsArray","toggleHover","chosen","textContent","toLowerCase","el","backgroundColor","saveTopics","hover","gridTemplateColumns","gridGap","UserArticle","editedPost","userArticles","CreatePost","imageFile","handleSubmitPost","newPost","key","Content-type","fileInput","SavedArticle","removeSavedArticle","getSavedArticles","userInterests","toggleEdit","interestHandler","clicked","interest","message","updatedUser","t","int","checked","UserHistoryItem","deleteHistoryItem","FollowButton","followingStatus","hasOwnProperty","FollowedUsersListItem","borderBottom","followButton","FollowedUsersList","get_following","userOrError","updateFollow","unfollowed","objectWithoutProperties","_toPropertyKey","deleteProp","i","d","s","tyle","o","nClick","pageTitle","pageTagline","popularPosts","popularHeaderPost","popularPostsFeedItem","border","overflow","personalizedPosts","personalizedFeedItem","getUser","defaults","withCredentials","getFollowedUsers","val","userLogin","getComments","document","BrowserRouter","navBar","Switch","Route","exact","path","component","render","topicPage","loginPage","TermsAndConditions","createPost","savedPostsFeed","userPostsFeed","userPosts","SetNewPassword","EditProfile","AuthorProfilePage","personalizedFeed","popularPostsFeed","UserReadingHistory","post_post","Error404","Boolean","window","hostname","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bde099ee.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\n\n\n\n export const UserContext = React.createContext();\n\n\n class UserController extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            topics: [\n                {topic :'Tech',        \n                    image: 'tech.jpeg',\n                        value: 'tech'    \n                },\n                {topic :'Language', \n                    image: 'language.jpeg',\n                        value: 'language'    \n                },\n                {topic :'Science', \n                    image: 'science.jpeg',\n                        value: 'science'    \n                },\n                {topic :'Self', \n                    image: 'self.jpeg',\n                        value: 'self'    \n                },\n                {topic :'Society', \n                    image: 'society.jpeg',\n                        value: 'society'    \n                },\n                {topic :'Music', \n                    image: 'music.jpeg',\n                        value: 'music'    \n                },\n                {topic :'Geography', \n                    image: 'geography.jpeg',\n                        value: 'geogeography'    \n                },\n                {topic :'Code', \n                    image: 'code.jpeg',\n                        value: 'code'    \n                },\n                {topic :'Nature', \n                    image: 'nature.jpeg',\n                        value: 'nature'    \n                },\n                {topic :'Health', \n                    image: 'health.jpeg',\n                        value: 'health'    \n                },\n                {topic :'Psych', \n                    image: 'psych.png',\n                        value: 'psych'\n                },\n                {topic :'Food', \n                    image: 'food.jpeg',\n                        value: 'food'    \n                },\n                {topic :'Relationships', \n                    image: 'relationships.jpeg',\n                        value: 'relationships'    \n                },\n                {topic :'Art', \n                    image: 'art.jpeg',\n                        value: 'art'    \n                },\n                {topic :'Movies', \n                    image: 'movies.jpeg',\n                        value: 'movies'    \n                },\n\n            ],\n        }\n    }\n\n    updateUser = user => {\n        this.setState(user)\n    }\n\n\n\n render(){\n\n    return( \n\n        <UserContext.Provider\n            value={{\n                isAuth: this.state.isAuth,\n                // warnLogin: this.warnLogin,\n                updateUser: this.updateUser,\n                userId: this.state.userId,\n                avatarImage: this.state.avatarImage,\n                username: this.state.username,\n                topics: this.state.topics,\n               \n                }}\n                >\n                {this.props.children}\n        </UserContext.Provider>\n    )\n }\n}\n\nconst UserProvider = UserController\nconst UserConsumer = UserContext.Consumer\n\nexport { UserProvider, UserConsumer }\n\n","import React from 'react';\nimport { UserConsumer } from './UserContext'\n\n\nconst ContextWrapper = Component => {\n    return function(props) {\n      return (\n        <UserConsumer>\n            { ({isAuth, updateUser, userId, username, avatarImage, author }) => {\n              return <Component {...props} \n                  isAuth={isAuth} \n                  userId={userId} \n                  avatarImage={avatarImage} \n                  username={username}\n                  author={author} \n                  updateUser={updateUser} />\n            }}\n        </UserConsumer>\n      )\n    }\n  }\n  \n  export default ContextWrapper","import React from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\n\nexport default function Spinner(props) {\n    return (\n        <Container>\n            <Row className=\"spinner\">\n                <Col>\n                    <div className={` ${props.spinning}`}>\n                        <i class={`fa fa-spinner fa-spin fa-${props.size}x`}></i>\n                    </div>\n                </Col>\n            </Row>\n        </Container>\n        \n    )\n}\n","import React from 'react';\nimport { Button, Container, Row, Col } from 'react-bootstrap'\n\nexport default function Error() {\n    return (\n        <Container>\n            <Row style={{ margin: '2em 0 0 0', textAlign: 'center' }}>\n                <Col>\n                    <h1 style={{ margin: '2em 0 0 0' }}>Oops! It looks like that page doesn't exist :s</h1>\n                    <h6 style={{ margin: '2em 0 0 0' }}>Try checking the URL or contact us to report a bug</h6>\n                    <Button href=\"/\" style={{ margin: '3em 0 0 0' }}>Back to home</Button>\n                </Col>\n            </Row>\n        </Container>\n    )\n}\n","import React, { Component } from 'react'\nimport { Redirect, Link } from 'react-router-dom';\nimport { Form, Button, Col, Row, Container, Modal } from 'react-bootstrap';\n\nimport axios from 'axios';\nimport Spinner from '../../utils/spinner'\nimport ContextWrapper from '../../../ContextWrapper'\n\n\nclass LoginModal extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: '',\n            password: '',\n            userId: '',\n            redirect: false,\n        }\n    }\n\n    changeHandler = e => {\n        this.props.changeHandler(e)\n    }\n\n   \n\n    render() {\n\n        if(this.props.spinner) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        if(this.props.redirectTo) {\n            return <Redirect to=\"/\" />\n        }    \n    \n        return (\n\n            <Modal {...this.props} size=\"lg\" >\n                <Modal.Header className=\"center\" style={{ margin: \"8% 0 2% 0\"}}>\n                    <Col className=\"center\">\n                        <h1>Welcome back!</h1>\n                    </Col>\n                    </Modal.Header>\n                <Modal.Body>\n                    <Container>\n                    <Row className=\"show-grid\">\n                    <Col sm={2} md={2}></Col>\n                    <Col className=\"center\" sm={8} md={8}>\n                        <p style={{fontSize: '0.9em', color:'#656565',\n                        marginBottom: '5%'\n                        }}>Stay up to date with all our articles \n                            and get our personalized recommendations about\n                            all the things that are important to you.</p>\n                    </Col>\n                    <Col sm={2} md={2}></Col>\n                    </Row>\n                <Row>\n                    <Col sm={3} md={3}></Col>\n                    <Col sm={6} md={6}>\n                        <Form  onSubmit={this.props.handleUserLogin}>\n                            <Form.Group>\n                            <Form.Label>Email</Form.Label>    \n                            <Form.Control className=\"text-muted\" type=\"email\" id=\"email\" name=\"email\" onChange={this.changeHandler} value={this.props.email} />\n                            </Form.Group>\n                            <Form.Group>\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control className=\"text-muted\" type=\"password\" id=\"password\" name=\"password\" onChange={this.changeHandler} value={this.props.password} />\n                            </Form.Group>  \n                            <Row style={{ margin: \"2% 0\"}}>\n                                <Col className=\"center\">\n                                    <Button type=\"submit\">Login</Button>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </Col>\n                    <Col sm={3} md={3}></Col>\n                </Row>\n                <Row className=\"center\">\n                    <Col style={{ fontSize: '0.8em', margin: '2em 0'}}>\n                        <Link to=\"/forgotpassword\" onClick={() => this.props.hideLogin()} style={{ color: '#2c4a93'}} >Forgot password?</Link>\n                    </Col>\n                </Row>\n                    <Row className=\"center\" style={{color: 'red'}}>\n                        <Col>\n                            <p>{this.props.error}</p>\n                        </Col>\n                    </Row>\n                    <Row style={{ margin: \"2% 0\"}}>\n                        <Col className=\"center\">\n                            <p>Now account? <span onClick={event => {this.props.hideLogin(); this.props.showSignup();}} style={{marginLeft: '1%', color:'#0069d9', cursor: 'pointer'}}>Create one</span></p>\n                        </Col>\n                    </Row>\n                    <Row style={{ margin: \" 5% 0 2% 0\", color: '#656565', fontSize: '0.9em'}}>\n                        <Col sm={1} md={1}></Col>\n                        <Col sm={10} md={10} className=\"center\">  \n                            We log user data and share \n                            it with service providers to keep our site running. Click “Sign in” \n                            above to accept  ourTerms of Service and Privacy Policy.\n                        </Col>\n                        <Col sm={1} md={1}></Col>\n                    </Row>\n                    </Container>\n\n                </Modal.Body>   \n\n            </Modal>\n            \n        )\n    }\n\n}\n\n\nexport default ContextWrapper(LoginModal)\n   \n\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport { Form, Button, Row, Col, Modal } from 'react-bootstrap'\nimport Spinner from '../../utils/spinner'\n\n\nexport default class SignUp extends Component {\n\n    constructor(props) {  // SHOULD BE A FUNCITONAL COMP.\n        super(props);\n\n        this.state = {\n            }\n    }\n\n\n    changeHandler = e => {\n        this.props.changeHandler(e)\n    }\n   \n    \n    render() {\n\n            const modal = (\n\n            this.props.submitted && this.props.msg ? \n            \n            <Modal {...this.props} size=\"lg\">\n                <Row className=\"center\">\n                    <Col style={{margin: '4% 0 2% 0'}}>\n                        <h1>{(this.props.msg.title)}</h1>\n                    </Col>\n                </Row>\n              \n                <Modal.Body>\n                    <Row className=\"show-grid center\" style={{ margin: \"8% 0 2% 0\"}}>\n                        <Col>\n                            <h5>{this.props.msg.body}</h5>\n                        </Col>\n                    </Row>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Link  \n                        className=\"link-as-button\" \n                        onClick={this.props.hideSignup} \n                        to={{pathname: this.props.msg.to, state:{ email: this.props.email, set: true }}}>\n                        {this.props.msg.btnTxt}\n                        </Link>\n                </Modal.Footer>\n            </Modal>\n            \n            : \n\n            <Modal {...this.props} size=\"lg\">\n                <Modal.Body>\n\n                    <Row className=\"show-grid center\" style={{ margin: \"8% 0 2% 0\"}}>\n                        <Col>\n                            <h1>Join us!</h1>\n                        </Col>\n                    </Row>\n          \n                    <Row className=\"show-grid\">\n                        <Col sm={3} md={3}></Col>\n                        <Col className=\"center\" sm={6} md={6}>\n                            <p style={{fontSize: '0.9em', color:'#656565',\n                            marginBottom: '5%'\n                            }}>Stay up to date with all our articles \n                                and get our personalized recommendations about\n                                all the things that are important to you.</p>\n                        </Col>\n                        <Col sm={3} md={3}></Col>\n                    </Row>  \n\n                    {/* Modal body */}\n                    <Row>\n                        <Col sm={3} md={3}></Col>\n                        <Col sm={6} md={6}>\n                            <Form onSubmit={this.props.handleUserSignup}>\n                            <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Control onChange={this.changeHandler} name=\"email\" value={this.props.email} placeholder=\"Enter email\" />\n                            <Form.Text className=\"text-muted center\">\n                                We'll never share your email with anyone else.\n                            </Form.Text>\n                            </Form.Group>\n                            <Row>\n                                <Col className=\"center\" style={{marginBottom:'3%'}}>  \n                                    <Button variant=\"dark\" type=\"submit\"> {this.props.sendingEmail ? \n                                        <span><Spinner spinning=\"spinning\" size=\"1x\" /></span> : 'Sign up' }\n                                    </Button>\n                                </Col>\n                            </Row>\n                            </Form>\n                            <p style={{color: 'red'}}>{this.state.error}</p>\n                        </Col>    \n                    </Row>\n                    <Row>\n                        <Col className=\"center\">\n                            <p style={{margin:'2% 0 3% 0'}}\n                            >Already have an account? \n                                <span onClick={event => {\n                                    this.props.hideSignup(); \n                                    this.props.showLogin();}} \n                                    style={{color:'#0069d9', \n                                    cursor: 'pointer', \n                                    marginLeft:'1%'}}\n                                    > Sign in</span></p>\n                        </Col>\n                    </Row>\n                   \n            </Modal.Body>\n        </Modal>\n\n        )\n\n        if(this.state.spinner) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n        \n        return (\n\n            <React.Fragment>\n                {this.state.confirming ? <Spinner size='8x' spinning={'spinning'} /> \n                : \n                modal\n                }\n            </React.Fragment>\n        )\n    }\n}\n\n \n","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport { Container, Row, Col, Modal, Image } from 'react-bootstrap';\n\nimport axios from 'axios'\nimport ContextWrapper from '../../../ContextWrapper'\n\n\nconst LogoutModal = props => {\n\n    return (\n\n        <Modal {...props} size=\"lg\" >\n        <Modal.Header className=\"center\" style={{ margin: \"8% 0 2% 0\"}}>\n            <Col className=\"center\">\n                <h1>See you soon!</h1>\n            </Col>\n        </Modal.Header>\n        <Modal.Body>\n            <Container>\n                <Row className=\"center\" style={{ marginBottom: \"5%\"}} >\n                    <Col>\n                        <Image src=\"/assets/goodbye_hand.png\" width=\"75px\" />\n                    </Col>\n                </Row>\n                <Row className=\"show-grid\">\n                    <Col sm={2} md={2}></Col>\n                    <Col className=\"center\" sm={8} md={8}>\n                        <p style={{fontSize: '0.9em', color:'#656565',\n                        marginBottom: '5%'\n                        }}>Log in to stay up to date with all our articles \n                            and regularly updated content</p>\n                    </Col>\n                    <Col sm={2} md={2}></Col>\n                </Row>\n            </Container>\n        </Modal.Body>   \n    </Modal>\n                     \n    )\n}\n\n\nexport default ContextWrapper(LogoutModal)","import React from 'react'\nimport { Image } from 'react-bootstrap'\n\n\nexport default function SidebarItem( props ) {\n    return (\n        <>\n            <li className=\"sidebar-item\">\n                <a href={`/profile/${props.fol._id}`}>\n                    <div className=\"sidebar-profile-disc\">\n                        <Image src={`/${props.fol.image}`} height=\"50px\" />\n                    </div>\n                    <div style={{display: 'inline'}}>{props.fol.username}</div>\n                </a>\n            </li>\n        </>\n    )\n}\n","import React from 'react'\nimport SidebarItem from './sidebarItem';\n\nimport { UserConsumer } from '../../../UserContext'\n\nexport default function SidebarModal(props) {\n\n    return (\n        <>\n        <UserConsumer> \n            {value => (\n            <React.Fragment>                        \n                <div onClick={props.onHide} className={props.show ? \"show-overlay dark-overlay\" : \"hide-overlay dark-overlay\"}></div>\n                <div className={props.show ? \"show-sidebar sidebar\" : \"hide-sidebar sidebar\"}>\n                    <ul>               \n                        <li className=\"sidebar-header\" onClick={props.onHide}><i class=\"fa fa-bars fa-1x\" ></i> \n                            <img className=\"sidebar-logo\" alt=\"\" src=\"/assets/book.jpg\" width=\"30\" height=\"30\" />\n                            <span className=\"sidebar-brand\">JournalApp</span>\n                        </li>  \n\n                       \n                            {value.isAuth ?  \n                            <>\n                            <a href=\"/userposts\"><li className=\"sidebar-item\"><i class=\"fa fa-file\"></i>Your articles</li></a>\n                            <a href=\"/followedusers\"><li className=\"sidebar-item\"><i class=\"fa fa-address-book\"></i>Followed users</li></a>\n                            <a href=\"/savedposts\"><li className=\"sidebar-item\"><i class=\"fa fa-bookmark\"></i>Saved posts</li></a>\n                            <a href=\"/userhistory\"><li className=\"sidebar-item\"><i class=\"fa fa-history\"></i>Reading history</li></a>\n        \n                            <hr className=\"sidebar-divider\" />\n                \n                            <h5 className=\"sidebar-subheader\">FOLLOWING</h5>    \n                            \n                            {props.followedUsers && props.followedUsers.slice(0, 7).map(fol => {\n                                    return (\n                                        <SidebarItem\n                                        fol={fol}\n                                        />\n                                    )\n                            })}\n                            </>\n\n                            : \n                    \n                            <div className='login-warning-sidebar-message'>\n                                <p>\n                                    Sign up or login to follow users and receive personalized content\n                                </p>\n                            </div>\n                            }\n                    </ul>\n                    </div>\n                                \n                </React.Fragment>\n                )}\n            </UserConsumer>\n            </>\n\n    )\n\n}\n","import React from 'react'\nimport { Modal, Button } from 'react-bootstrap';\n\nexport default function LoginWarningModal(props) {\n    return (\n        <Modal { ...props }>\n            <Modal.Header>\n            <Modal.Title>Login</Modal.Title>\n            </Modal.Header>\n        \n            <Modal.Body>\n            <p>Please login first, before liking</p>\n            </Modal.Body>\n        \n            <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => props.warnLogin()}>Close</Button>\n            </Modal.Footer>\n      </Modal>\n    )\n}\n","import React, { useState } from 'react';\nimport { Navbar, Nav, Image } from 'react-bootstrap'\n\nimport LoginModal from '../authentication/signin/loginModal'\nimport SignupModal from '../authentication/signup/signUpModal'\nimport LogoutModal from '../authentication/signin/logoutModal'\nimport SidebarModal from './sidebar/sidebarModal'\nimport LoginWarningModal from '../utils/loginWarningModal'\n\nimport { UserConsumer } from '../../UserContext';\n\nimport ContextWrapper from '../../ContextWrapper';\n\n\nconst NavBar = props => {\n    \n    const [ showLoginModal, setShowLogin ] = useState(false);\n    const [ showSignupModal, setShowSignup ] = useState(false);\n    const [ showLogoutModal, setShowLogout ] = useState(false);\n    const [ showSidebar, setShowSidebar] = useState(false);\n\n    const handleHideLogin = () => setShowLogin(false);\n    const handleHideSignup = () => setShowSignup(false);\n    const handleHideLogout = () => setShowLogout(false);\n\n    const handleShowLogin = () => setShowLogin(true);\n    const handleShowSignup = () => setShowSignup(true);\n    const handleShowLogout = () => setShowLogout(true);\n    const handleShowSidebar = () => setShowSidebar(true);\n\n\n    return (\n\n\n    <React.Fragment>\n\n        <UserConsumer>\n            {value => {\n                return (\n                    // ## Top user navigation bar ##\n                <Navbar bg=\"light\" expand=\"lg\">       \n                    <Nav>\n                        <Nav.Link onClick={props.toggleSidebar}><i class=\"fa fa-bars fa-1x\" ></i></Nav.Link>    \n                    </Nav>    \n\n                    <Navbar.Brand className=\"ml-auto brand-logo\"\n                                  className=\"d-inline-block align-top\"  \n                                  href=\"/home\">\n                                  <img alt=\"\" src=\"/assets/book.jpg\" width=\"30\" height=\"30\" />\n                    {' JournallingApp '}\n                    </Navbar.Brand>\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />             \n\n                    <Navbar.Collapse className=\"mr-auto\">\n                        <Nav className=\"mr-auto\">\n                            <Nav.Link href=\"/home\">Home</Nav.Link>\n                            <Nav.Link href=\"/about\">About</Nav.Link>\n                            {value.isAuth &&\n                            <>\n                                <Nav.Link href=\"/editprofile\">Edit Profile</Nav.Link>\n                                <Nav.Link href=\"/createPost\">Write Something</Nav.Link> \n                            </>\n                            }    \n                        </Nav>\n                   \n                    {!value.isAuth &&\n                        <Nav>\n                            <Nav.Link className=\"nav-button\" onClick={handleShowLogin}>Log in</Nav.Link>\n                            <Nav.Link className=\"nav-button\" onClick={handleShowSignup}>Sign Up</Nav.Link>\n                        </Nav>\n\n                     }\n                    {value.isAuth &&\n                        <Nav>\n                            <Nav.Link href=\"/editProfile\" className=\"avatar-container\">\n                                <div className=\"avatar-image-container\">\n                                    <Image src={`/${value.avatarImage}`}  width=\"70px\" />\n                                </div>\n                                <div className=\"avatar-username\">Hi, {value.username}</div>\n                            </Nav.Link>\n                            {/* <Nav.Link className=\"user-greeting\"> </Nav.Link> */}\n                            <Nav.Link className=\"logout-button\" onClick={event => {handleShowLogout(); props.handleUserLogout();}}>Log out</Nav.Link>\n                        </Nav>\n                    }\n                    </Navbar.Collapse>\n            </Navbar>\n                )\n            }}\n        </UserConsumer>\n\n       \n\n        <Nav className=\"justify-content-center\" bg=\"light\" variant=\"light\">\n            <Nav.Item>\n                <Nav.Link href=\"/topic/tech\">Tech</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/language\">Language</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/science\">Science</Nav.Link>\n            </Nav.Item>   \n            <Nav.Item>\n                <Nav.Link href=\"/topic/self\">Self</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/society\">Society</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/music\">Music</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/geography\">Geography</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/programming\">Code</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/nature\">Nature</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n                <Nav.Link href=\"/topic/psychology\">Psych</Nav.Link>\n            </Nav.Item>\n     \n        </Nav>\n\n   \n\n        <LoginModal \n            show={showLoginModal} \n            onHide={handleHideLogin} \n            hideLogin={handleHideLogin} \n            showSignup={handleShowSignup} \n            handleUserLogin={props.handleUserLogin}\n            changeHandler={props.changeHandler}\n            error={props.error}\n            redirectTo={props.redirectTo}\n        />\n       \n       \n        <SignupModal \n            show={showSignupModal} \n            onHide={handleHideSignup} \n            hideSignup={handleHideSignup} \n            showLogin={handleShowLogin} \n            handleUserSignup={props.handleUserSignup}\n            changeHandler={props.changeHandler}\n            error={props.error}\n            redirectTo={props.redirectTo}\n            msg={props.msg}\n            email={props.email}\n            submitted={props.submitted}\n            sendingEmail={props.sendingEmail}\n\n        />\n\n\n        <LogoutModal \n            show={showLogoutModal} \n            onHide={handleHideLogout} \n            handleUserLogout={props.handleUserLogout} \n\n        />\n\n\n        <SidebarModal \n            show={props.showSidebar} \n            onHide={props.toggleSidebar} \n            followedUsers={props.followedUsers}\n        />\n\n\n        <LoginWarningModal \n            show={props.loginWarning} \n            onHide={props.warnLogin} \n            warnLogin={props.warnLogin} \n        />\n\n\n    </React.Fragment>\n\n    )\n}\n\n\nexport default ContextWrapper(NavBar)\n","import React from 'react'\nimport { Navbar } from 'react-bootstrap'\n\nexport default function footer() {\n\n    return (\n        <React.Fragment>\n            <div  style={{ marginTop: '10%'}}></div>\n                <Navbar bg=\"dark\" variant=\"dark\" fixed=\"bottom\" sticky=\"bottom\">\n                        <Navbar.Brand href=\"/home\"><img alt=\"\" src=\"/assets/book.jpg\" width=\"30\" height=\"30\" className=\"d-inline-block align-top\" />\n                {' Blogging App '}\n                </Navbar.Brand>\n            </Navbar>\n        </React.Fragment>\n\n        )\n    }\n\n    // style={{marginBottom: '30px'}}","import React from 'react'\n\n\nexport default function AuthorDetails(props) {\n    return (\n        <>\n            \n            <div className=\"author-details-container\">\n                <div className=\"authorThumbnail-image-container\">\n                        <a href={`/profile/${props.post.authorId}`}><img src={`/${props.post.authorAvatar}`} width=\"70px\"/></a>\n                </div>\n                <div className=\"author-date-container\">\n                        <div style={{marginRight: '2em' }}>\n                            <a href={`/profile/${props.post.authorId}`}>\n                                <span className=\"authorThumbnail-author\">{props.post.author}</span>\n                            </a>\n                        </div>\n                        <div>\n                            <div className=\"authorThumbnail-date\">\n                                <span >{props.post.date}</span>\n                            </div>\n                            <div className=\"authorThumbnail-comments\">\n                                <span >{`${props.post.comments} comments`}</span>\n                            </div>\n                        </div>\n                </div>\n\n            </div>\n\n        </>\n    )\n}\n","import React from 'react';\nimport { Image, Row, Col, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom'\nimport AuthorThumbnail from '../../utils/authorThumbnail'\nimport ContextWrapper from '../../../ContextWrapper'\n\nconst CenterThumbnail = props => {\n\n    const bookmark = \n    props.savedArticles && props.isAuth ?\n        <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                \"fa fa-bookmark-o bookmark-icon\" : \n                \"fa fa-bookmark bookmark-icon\" }\n                id={props.post._id}\n                style={{ cursor: 'pointer' }}\n                onClick={() => props.toggleSaveHandler(props.post._id)}>\n            </i>\n        : ''\n\n    return (\n\n        <Container style={{ margin: '0 0 1em 0', padding: '0' }}>\n\n                <Row>\n                    <Col lg={5} md={5} sm={5} xs={5}>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <div className=\"crop\">\n                                <Image className=\"centerThumbnail-image\" src={`/${props.post.image}`} />\n                            </div>\n                        </Link>    \n                    </Col>\n                    <Col lg={7} md={7} sm={7} xs={7}>\n                        <Row>\n                            <Col md={10} sm={10}>\n                                {/* {props.post._id} */}\n                                <Link to={`/readpost/${props.post._id}`}><h5 className=\"centerThumbnail-title\">{props.post.title}</h5></Link>\n                                <Link to={`/readpost/${props.post._id}`}><p className=\"centerThumbnail-tagline\">{props.post.tagline.substring(0,20)}...</p></Link>\n                            </Col>\n                            \n                        </Row>\n                        <Row>\n                            <AuthorThumbnail \n                                post={props.post}\n                            />  \n                        </Row>\n                </Col>\n            </Row>\n\n        </Container>\n    )\n}\n\nexport default ContextWrapper(CenterThumbnail)","import React from 'react';\n\n// import Bootstrap from 'bootstrap'\nimport { Image, Row, Col, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom'\nimport ContextWrapper from '../../../ContextWrapper';\n\n\nconst PersonalizedThumbnail = props => {\n\n    const bookmark = \n        props.savedArticles && props.isAuth ?\n            <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                    \"fa fa-bookmark-o bookmark-icon\" : \n                    \"fa fa-bookmark bookmark-icon\" }\n                    id={props.post._id}\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => props.toggleSaveHandler(props.post._id)}>\n                </i>\n            : ''\n        \n    return (\n\n        <Container style={{ margin: '1.3em 0' }}>\n\n                <Row>\n                   \n                    <Col md={8} sm={8}>\n                        \n                        <Row>\n                            <Col md={11} sm={11}>\n                                {/* {props.post._id} */}\n                                <Link to={`/readpost/${props.post._id}`}><p className=\"personalizedThumbnail-topic\">{props.post.topic}</p></Link>\n                                <Link to={`/readpost/${props.post._id}`}><h5 className=\"personalizedThumbnail-title\">{props.post.title}</h5></Link>\n                                <Link to={`/readpost/${props.post._id}`}><p className=\"personalizedThumbnail-tagline\">{props.post.tagline}</p></Link>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col md={5} sm={5}>\n                                <Link to={`/profile/${props.post.authorId}`}><p className=\"personalizedThumbnail-author\">{props.post.author}</p></Link>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col>\n                                <Link to={`/${props.post._id}`}> <p className=\"personalizedThumbnail-date\">{props.post.date}</p></Link>\n                            </Col>\n                            <Col md={6} sm={6}>\n            \n                                <p className=\"personalizedThumbnail-comments\">{`${props.post.comments} comments`}</p>\n                            </Col>\n                           \n                           <Col md={1}>{bookmark}</Col>\n                        </Row>\n\n                    </Col>\n\n                    <Col md={4}  sm={4}>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <div className=\"personalizedThumbnail-image-container\">\n                                <Image className=\"personalizedThumbnail-image\" src={`/${props.post.image}`} />\n                            </div>\n                        </Link>    \n                    </Col>\n            </Row>\n\n        </Container>\n    )\n}\n\nexport default ContextWrapper(PersonalizedThumbnail)","import React from 'react';\n\n// import Bootstrap from 'bootstrap'\nimport { Image, Row, Col, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom'\n\n\nconst FollowingThumbnail = props => {\n\n\n    return (\n\n        <Container style={{ margin: '1.3em 0', padding: '0.4em' }}>\n\n                <Row>\n                    <Col md={1}></Col>\n                    <Col md={2}  sm={2} style={{ padding: 0}}>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <div>\n                                <Image className=\"followingThumbnail-image\" src={`/${props.post.image}`} />\n                            </div>\n                        </Link>    \n                    </Col>\n\n                    <Col md={8} sm={8}>\n                        \n                        <Row>\n                            <Col md={11} sm={11}>\n                                {/* {props.post._id} */}\n                                <Link to={`/readpost/${props.post._id}`}><h5 className=\"followingThumbnail-title\">{props.post.title}</h5></Link>\n                            </Col>\n                            \n                        </Row>\n                        <Row>\n                            <Col md={5} sm={5}>\n                                <Link to={`/profile/${props.post.authorId}`}><p className=\"followingThumbnail-author\">{props.post.author}</p></Link>\n                            </Col>\n                          <Col></Col>\n                           \n                        </Row>\n                        <Row>    \n                            <Col>\n                                <Link to={`/readpost/${props.post._id}`}> <p className=\"followingThumbnail-date\">{props.post.date}</p></Link>\n                            </Col>\n                            <Col md={6} sm={6}>\n            \n                                <p className=\"followingThumbnail-comments\">{`${props.post.comments} comments`}</p>\n                            </Col>\n                        </Row>\n\n                    </Col>\n\n    \n            </Row> \n\n        </Container>\n    )\n}\n\nexport default FollowingThumbnail","import React from 'react';\nimport { Row, Col, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom'\nimport ContextWrapper from '../../../ContextWrapper';\n\n\nconst PersonalizedThumbnail = props => {\n\n    const bookmark = \n    props.savedArticles && props.isAuth ?\n        <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                \"fa fa-bookmark-o bookmark-icon\" : \n                \"fa fa-bookmark bookmark-icon\" }\n                id={props.post._id}\n                style={{ cursor: 'pointer' }}\n                onClick={() => props.toggleSaveHandler(props.post._id)}>\n            </i>\n        : ''\n\n\n    return (\n\n        <Container style={{ margin: '1.3em 0' }}>\n\n                <Row>\n                <Col md={3}  sm={3}>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <p className=\"popularThumbnail-numbered-bullet\">\n                                {props.index}\n                            </p>\n                        </Link>    \n                    </Col>\n                    <Col md={8} sm={8}>\n                        \n                        <Row>\n                            <Col md={11} sm={11}>\n                                {/* {props.post._id} */}\n                                <Link to={`/readpost/${props.post._id}`}><p className=\"popularThumbnail-topic\">{props.post.topic}</p></Link>\n                                <Link to={`/readpost/${props.post._id}`}><h5 className=\"popularThumbnail-title\">{props.post.title}</h5></Link>\n                                <Link to={`/readpost/${props.post._id}`}><p className=\"popularThumbnail-tagline\">{props.post.tagline.substring(0, 50)}</p></Link>\n                            </Col>\n                            \n                        </Row>\n                        <Row>\n                            <Col md={5} sm={5}>\n                                <Link to={`/profile/${props.post._id}`}><p className=\"popularThumbnail-author\">{props.post.author}</p></Link>\n                            </Col>\n                          <Col></Col>\n                            <Col md={1}>{bookmark}</Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <Link to={`/${props.post._id}`}> <p className=\"popularThumbnail-date\">{props.post.date}</p></Link>\n                            </Col>\n                            <Col md={6} sm={6}>\n            \n                                <p className=\"popularThumbnail-comments\"><Link to=\"#\">{`${props.post.comments} comments`}</Link></p>\n                            </Col>\n                        </Row>\n\n                    </Col>\n            </Row>\n\n        </Container>\n    )\n}\n\nexport default ContextWrapper(PersonalizedThumbnail)","import React from 'react'\nimport { Row, Col, Image } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport ContextWrapper from '../../../ContextWrapper'\nimport AuthorDetails from '../../utils/authorThumbnail'\n\nconst FeaturedThumbnailLeft = props => {\n\n    const bookmark =  \n        props.savedArticles && props.isAuth ?\n            <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                    \"fa fa-bookmark-o bookmark-icon\" : \n                    \"fa fa-bookmark bookmark-icon\" }\n                    id={props.post._id}\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => props.toggleSaveHandler(props.post._id)}>\n                </i>\n            : ''\n\n    return (\n\n        <React.Fragment> \n                <Row>\n                    <Col>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <div className=\"featuredThumbnail-image-container\">\n                                <Image src={`/${props.post.image}`} width=\"100%\"  /><br />\n                            </div>\n                        </Link>                    \n                    </Col>\n                </Row>\n                <Row style={{ margin: '-1em 0 0 0' }}>\n                    <Col md={10}  sm={10} style={{ padding: 0 }}>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <h5 className=\"featuredThumbnail-title\">{`${props.post.title}`}</h5>\n                        </Link>\n                    </Col>\n                    <Col md={1}>{bookmark}</Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <p className=\"featuredThumbnail-tagline\">{props.post.tagline.substring(0, 25)}</p>\n                        </Link>\n                    </Col>\n                </Row>\n\n                \n                <Row>\n                    <Col>\n                        <Link to={`/profile/${props.post.authorId}`}>\n                            <AuthorDetails post={props.post} />\n                        </Link>        \n                    </Col>\n                </Row>\n                    \n\n\n        </React.Fragment>\n    )\n}\n\nexport default ContextWrapper(FeaturedThumbnailLeft)\n\n\n","import React from 'react'\nimport { Row, Col, Image } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport ContextWrapper from '../../../ContextWrapper'\nimport AuthorDetails from '../../utils/authorThumbnail'\n\nconst FeaturedThumbnailRight = props => {\n\n    const bookmark = \n    props.savedArticles && props.isAuth ?\n        <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                \"fa fa-bookmark-o bookmark-icon\" : \n                \"fa fa-bookmark bookmark-icon\" }\n                id={props.post._id}\n                style={{ cursor: 'pointer' }}\n                onClick={() => props.toggleSaveHandler(props.post._id)}>\n            </i>\n        : ''\n\n    return (\n\n        <React.Fragment> \n                <Row>\n                    <Col>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <div className=\"featuredThumbnail-image-container\">\n                                <Image src={`/${props.post.image}`} width=\"100%\"  /><br />\n                            </div>\n                        </Link>                    \n                    </Col>\n                </Row>\n                <Row style={{ margin: '-1em 0 0 0' }}>\n                    <Col md={10}  sm={10} style={{ padding: 0 }}>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <h5 className=\"featuredThumbnail-title\">{`${props.post.title}`}</h5>\n                        </Link>\n                    </Col>\n                    <Col md={1}>{bookmark}</Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <Link to={`/readpost/${props.post._id}`}>\n                            <p className=\"featuredThumbnail-tagline\">{props.post.tagline.substring(0, 25)}</p>\n                        </Link>\n                    </Col>\n                </Row>\n\n                \n                <Row>\n                    <Col>\n                        <Link to={`/profile/${props.post.authorId}`}>\n                            <AuthorDetails post={props.post} />        \n                        </Link>\n                    </Col>\n                </Row>\n                    \n\n\n        </React.Fragment>\n    )\n}\n\nexport default ContextWrapper(FeaturedThumbnailRight)\n\n\n","import React, { Component } from 'react'\nimport { Row, Col, Image, Form, Button } from 'react-bootstrap'\n\nimport axios from 'axios'\nimport Spinner from '../../utils/spinner'\n\n\nexport default class Banner extends Component {\n\n    state={\n        email:'',\n        error:'',\n        sendingEmail: false,\n    }\n\n    changeHandler = e => {\n        this.setState({\n            email: e.target.value,\n        })\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        const str = this.state.email;\n        const trimmed = str.replace(/(^\\s+|\\s+$)/g,'');\n\n        const re = /^\\S+@\\S+$/\n\n        if(!re.test(trimmed)) {\n            this.setState({\n                error: 'Please enter a valid email',\n            })\n            return\n        }\n\n        this.setState({\n            sendingEmail: true,\n        })\n        \n        const emailObj = { email: this.state.email }\n\n        axios.post('http://localhost:5000/users/sendemail', emailObj)\n         .then(res => {\n            this.setState({\n                msg: res.data.msg,\n                sendingEmail: false,\n                submitted: true\n            }) \n        })\n        .catch(err => console.log(err));\n    }\n\n\n    render() {\n \n        const content =  this.state.submitted ?\n\n        <React.Fragment>\n            <Row className=\"show-grid center\" style={{ margin: \"8% 0 2% 0\"}}>\n                <Col>\n                    <h3>{(this.state.msg.title)}</h3>\n                    <h5>{this.state.msg.body}</h5>\n                </Col>\n            </Row>\n            <Row className=\"show-grid center\" style={{ margin: \"8% 0 2% 0\"}}>\n                <Col>\n\n                </Col>\n            </Row>\n        </React.Fragment>\n\n        :\n\n        <React.Fragment>\n            <Col>\n            \n            </Col>\n            <Row>\n                <Col>\n                    <h2>Stay Posted with the Latest News</h2>\n                </Col>\n            </Row>\n            <Row style={{ margin: '3% 0 4% 0'}}>\n                <Col style={{padding: 0, fontSize: '0.9em', }}>\n                    <p>Sign up for our personalized feed based on your interests</p>\n                </Col>\n            </Row>\n            <Row>\n                <Col md={7}>\n                    <Form>\n                    <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Control onChange={this.changeHandler} type=\"email\" placeholder=\"Enter email\" />\n                    <Form.Text className=\"text-muted\">\n                        We'll never share your email with anyone else.\n                    </Form.Text>\n                    </Form.Group>\n                    </Form>\n                    <p style={{color: 'red'}}>{this.state.error}</p>\n                    {this.state.email}\n                </Col>\n                <Col md={5} sm={6} xs={6}>  \n                    <Button variant=\"dark\" onClick={this.handleSubmit}> {this.state.sendingEmail ? \n                         <span><Spinner spinning=\"spinning\" size=\"1x\" /></span> : 'Sign up' }\n                    </Button>\n                </Col>\n            </Row>\n        </React.Fragment>\n\n\n        return (\n\n            <React.Fragment>\n                <Row className=\"banner\">\n                    <Col lg={5} md={6} sm={12} xs={12}>\n                        <Image src=\"assets/workspace.jpg\" width=\"350px\" />\n                    </Col>\n                    <Col lg={5} md={6} sm={12} xs={12}>\n                        {content}\n                    </Col>\n                </Row>\n            </React.Fragment>\n        )\n    }\n}\n\n","import React, { Component } from 'react';\n\nimport { Image } from 'react-bootstrap'\n\nimport CenterThumbnail from './centerThumbnail'\nimport PersonalizedThumbnail from './personalizedThumbnail'\nimport FollowingThumbnail from './followingThumbnail'\nimport PopularThumbnail from './popularThumbnail'\nimport FeaturedThumbnailLeft from './featuredThumbnailLeft';\nimport FeaturedThumbnailRight from './featuredThumbnailRight';\n\nimport Banner from './signupBanner'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nimport { Row, Col, Container } from 'react-bootstrap'\nimport ContextWrapper from '../../../ContextWrapper';\n\n\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          login: [],\n          posts: [],\n          savedArticles: [],\n          personalized: [],\n          popular: [],\n          following: [],\n          loading: true,\n        }\n    }\n    \n    componentWillMount() {\n        axios.get('/posts/getposts')\n        .then(res => {\n            this.setState({\n                posts: res.data,\n                loading: false,\n                })\n            })\n            .catch(err => {\n                this.setState({ loading: false, })\n            })\n    \n        }\n\n\n    componentDidMount() {\n\n        axios.get(`/users/`)\n        .then(res => {\n            this.setState({\n                username: res.data.user.username,\n                topics: res.data.user.topics,\n                following: res.data.user.following,\n                savedArticles: res.data.user.saved_articles,\n                readingHistory: res.data.user.readingHistory,\n                loading: false,\n            }, () => {\n\n                const topicsString = JSON.stringify(this.state.topics);\n                axios.get(`/posts/personalized/${topicsString}`)\n                .then(res => {\n                    this.setState({\n                        personalized: res.data\n                    }, () => {\n\n                        const followingList = JSON.stringify(this.state.following)\n                        axios.get(`/posts/following/${followingList}`)\n                        .then(\n                            this.setState({\n                                following: res.data,\n                                loading: false,\n                            }))\n                        })\n                    })\n                })\n        })\n\n        axios.get('/posts/popular/')\n        .then(res => {\n            this.setState({\n                popular: res.data,\n                \n            })\n        })\n    }\n\n\n    toggleSaveHandler = id => {\n\n        // _id is the value prop\n        this.setState({\n            savedArticle: id\n        })\n\n        const obj = {\n            toToggle: id, \n            name: 'saved_articles'\n        }\n\n        axios.put(`/users/update/savedArticles/${this.props.userId}`, obj)\n        .then(res => {\n            this.setState({\n                savedArticles: res.data.saved_articles\n            })\n        })\n    }\n\n\n\nrender() {\n\n    let personalized;\n    if(this.props.isAuth !== null && this.state.personalized.length !== 0) {\n\n        \n        personalized =  \n            <>\n                <Link style={{color: '#000'}} to={`/personalized`}>\n                        <span >Personalized for you ></span><hr />\n                </Link> \n                {this.state.personalized.map(post => (\n                    <PersonalizedThumbnail \n                        post={post}\n                        savedArticles={this.state.savedArticles}\n                        toggleSaveHandler={this.toggleSaveHandler}                            \n                    />\n                ))}\n            </>   \n\n    } else {\n        \n        personalized =\n            <>\n                <span style={{ fontSize: '0.9em', color: '#5c5c5c' }}>Sign up to get personalized recommendations </span><hr />\n                {this.state.posts.map(post => (\n                    <Row >\n                        <Col>\n                            <PersonalizedThumbnail\n                                post={post}\n                            />\n                        </Col>\n                    </Row>\n                ))}\n            </>\n    }\n\n\n    return(\n\n        <Container>\n            {/* {JSON.stringify(this.state.personalized)} */}\n            <Row>\n                {/* featured article left */}\n                <Col lg={4} md={5} sm={12} xs={12}>\n                    {this.state.posts.length > 0 && <FeaturedThumbnailLeft\n                        post={this.state.posts[0]}\n                        savedArticles={this.state.savedArticles}\n                        toggleSaveHandler={this.toggleSaveHandler}\n                    />}\n                </Col>\n\n\n                {/* featured articles center */}\n                <Col lg={4} md={7} sm={12} xs={12}>\n                {this.state.posts.slice(2,5).map(post => (\n                    <Row >\n                        <Col>\n                            <CenterThumbnail \n                                post={post}\n                                savedArticles={this.state.savedArticles}\n                                toggleSaveHandler={this.toggleSaveHandler}\n                            />\n                        </Col>\n                    </Row>\n                ))}\n                </Col>\n\n\n                {/* featured article right */}\n                <Col lg={4} md={0} sm={12} xs={12}>\n                {this.state.posts.length > 4 && <FeaturedThumbnailRight\n                        post={ this.state.posts[1] }\n                        savedArticles={this.state.savedArticles}\n                        toggleSaveHandler={this.toggleSaveHandler}\n                    />}\n                     \n                </Col>\n            </Row>\n\n            {/* Sign up form  */}\n            <Row >\n                <Col>\n                    <Banner />\n                </Col>\n            </Row>\n\n\n            <Row>\n\n            {/* personalized:  {JSON.stringify(this.state.personalized)} */}\n               <Col lg={7} md={12} sm={12} xs={12}>\n                    {personalized}\n               </Col>\n\n                <Col lg={5} md={12} sm={12} xs={12}>\n\n                {this.props.isAuth && this.state.following.length > 0 &&\n                    <>\n                    <Row className=\"followingThumbnail-header\">\n                        <Col  lg={8} md={8} sm={8} xs={8}>\n                            <h4 class=\"followingThumbnail-header-title\">People who you're following</h4>\n                        </Col>\n                        <Col  lg={4} md={3} sm={3} xs={3}>\n                            <Image src=\"assets/binoculars.jpeg\" className=\"followingThumbnail-header-image\" />\n                        </Col>\n                    </Row>\n\n                    <Row >\n                        <Col>\n                            {this.state.loading ?  'loading' : this.state.following.slice(0,4).map(post => (\n                                <FollowingThumbnail \n                                    post={post}\n                                />\n                            ))}\n                        </Col>\n                    </Row>        \n                       \n                        </>\n                    }\n                    \n\n                    {/* {JSON.stringify(this.state.following)} */}\n                    {this.state.popular.length > 0 &&  \n                        <>\n                            <div className=\"popular-header\">\n                                <Link to=\"/popular\">\n                                    <h2>popular</h2>\n                                </Link>\n                            </div>\n                            {this.state.popular.slice(0, 4).map((post, index) => (\n                            <PopularThumbnail\n                                index={index}\n                                post={post}\n                                savedArticles={this.state.savedArticles}\n                                toggleSaveHandler={this.toggleSaveHandler}\n                            />\n                            ))}\n                        </>\n                    }\n\n                </Col>\n            </Row>        \n             {/* {this.state.savedArticleId} */}\n        </Container>\n        \n    )\n}    \n\n}\n\nexport default ContextWrapper(Home)","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\n\nconst About = () => (\n\n        <>\n        <Row style={{ margin: '3.5em 0', textAlign: 'center' }}>\n                <Col md={2}></Col>\n                <Col>\n                        <h1> \n                                This is the about page\n                        </h1>\n                </Col>\n                <Col md={2}></Col>\n        </Row>\n        <Row style={{ margin: '2em 0' }}>\n                <Col md={2}></Col>\n                <Col>\n                        <h3>\n                                What is Lorem Ipsum?\n                        </h3>\n                        <p>\n                                Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n                        </p>\n                </Col>\n                <Col md={2}></Col>\n        </Row>\n        <Row style={{ margin: '2em 0' }}>\n                <Col md={2}></Col>\n                <Col>\n                        <h3>\n                                Why do we use it?        \n                        </h3>\n                        \n                        <p>\n                                It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).        \n                        </p>\n                </Col>\n                <Col md={2}></Col>\n        </Row>\n        <Row style={{ margin: '2em 0' }}>\n                <Col md={2}></Col>\n                <Col>\n                        <h3\n                        >Where does it come from?\n                        </h3>\n                        <p>\n                                Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit amet..\", comes from a line in section 1.10.32.\n                        </p>\n                        <p> \n                                The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from \"de Finibus Bonorum et Malorum\" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.\n                        </p>\n                </Col>\n                <Col md={2}></Col>\n        </Row>\n        <Row style={{ margin: '2em 0' }}>\n                <Col md={2}></Col>\n                <Col>\n                        <h3>\n                                Where can I get some?        \n                        </h3>\n\n                        <p>\n                                There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.\n                        </p>\n                </Col>\n                <Col md={2}></Col>\n        </Row>\n       \n        </>\n)\n\nexport default About","import React, { Component } from 'react';\nimport { Button, Container, Row, Col, Image, Form } from 'react-bootstrap';\n\nimport ContextWrapper from '../../ContextWrapper';\n\n\nclass ReplyForm extends Component {\n\n    constructor(props) {\n        super(props)\n            this.state = {}\n        }\n\n\n    changeHandler = e => {\n        this.props.replyChangeHandler(e.target.value)\n    }\n    \n    \n    render() {\n        return (\n            <div>\n                {this.props.showReply && \n                         <React.Fragment>\n                         <Container>\n\n                             <Row>\n                                 <Col>\n                                    <div className=\"comment-avatar-container\">\n                                        {this.props.avatarImage ? <Image src={`/${this.props.avatarImage}`} width=\"80px\" /> : <i class=\"fa fa-user fa-2x\"></i> }           \n                                    </div>                                 \n                                </Col>\n                             </Row>\n                             <Row>\n                                 <Col sm={1} md={1} ></Col>\n                                 <Col sm={10} md={10}>\n                                     <Form>\n                                         <Form.Group controlId=\"exampleForm.ControlTextarea1\">                            \n                                         <Form.Control as=\"textarea\" style={{width: '400px'}} name=\"comment\" value={this.props.replyValue} onChange={this.changeHandler} \n                                             className=\"comment-area\" rows=\"3\" \n                                                 placeholder={this.props.onFocus ? 'Write a comment' : `Posting as ${this.props.username}`} \n                                             />                            \n                                         </Form.Group>   \n                                     </Form>\n                                 </Col>\n                                 <Col sm={1} md={1}></Col>\n                             </Row>\n                             <Row>\n                                 <Col sm={1} md={1} >\n                                    <Button variant=\"outline-info\"\n                                        onClick={event => {this.props.handleSubmitReply(this.props.comment); this.props.closeReplyInput(); }}>Post</Button>\n                                 </Col>\n                                 <Col sm={1} md={1} >\n                                    {this.props.showReply && <Button variant=\"outline-secondary\"             \n                                                    onClick={this.props.closeReplyInput}>Cancel</Button>}           \n                                 </Col>\n                             </Row>\n                             </Container>\n                     </React.Fragment>\n                    }\n            </div>\n        )\n    }\n}\n\n\nexport default ContextWrapper(ReplyForm)\n\n\n\n","import React, { useState} from 'react';\nimport { Container, Row, Col, Image, Button } from 'react-bootstrap'\nimport ReplyForm from './replyForm'\nimport ContextWrapper from '../../ContextWrapper';\n\n\nconst ReplyItem = props => {\n\n    const [ showReply, setShowReply ] = useState(false);\n    const handleShowReply = () => setShowReply(true)\n    const handleCloseReply = () => setShowReply(false)\n    \n    const [ onClickBackground, setBackground ] = useState(false)\n    const handleAddBackground = () => setBackground(true)\n    const handleRemoveBackground = () => setBackground(false)\n\n let timeStamp =   (Date.now() - props.reply.date)/1000 <= 20 ? 'now' :\n\n                        // SECONDS\n                        (Date.now() - props.reply.date)/1000 < 60 ? \n                            `${Math.round((Date.now() - props.reply.date)/1000)} seconds ago` :\n                        // MINUTES\n                        (Date.now() - props.reply.date)/1000/60 === 1 ? \n                            `${Math.round((Date.now() - props.reply.date)/1000/60)} minute ago` :\n                        (Date.now() - props.reply.date)/1000/60 < 60 ? \n                            `${Math.round((Date.now() - props.reply.date)/1000/60)} minutes ago` :\n                        // HOURS\n                        (Date.now() - props.reply.date)/1000/60/60 === 1 ? \n                            `${Math.round((Date.now() - props.reply.date)/1000/60)} hour ago` :\n                            `${Math.round((Date.now() - props.reply.date)/1000/60/60)} hours ago`;\n\n    return (\n        <React.Fragment>\n            <Container style={{\n                    marginTop: '0.5em',\n                    borderTop: '1px solid black',\n                    // borderBottom: '1px solid black',\n                    padding: '1em 0 0 2em',\n                    // backgroundColor: 'red',\n\n                    }}>\n                <Row>\n                    <Col sm={1} md={1} >\n                            <div className=\"comment-avatar-container\">\n                                <a href={`/profile/${props.userId}`}>{props.reply.avatarImage ? <Image src={`/${props.reply.avatarImage}`} width=\"80px\" /> : <i class=\"fa fa-user fa-2x\"></i> }</a>           \n                            </div>\n                    </Col>\n                    <Col sm={10} md={10}>\n                        <Row>\n                        <span className=\"replier-comment\"><a href={props.userId !== props.reply.userId ? `/profile/${props.userId}` : '#'}>{props.reply.username}</a></span>\n                            <i class=\"fa fa-angle-double-right reply-arrow\"></i>\n                        <span className=\"replied-comment\"><a href={props.userId !== props.reply.userId ? `/profile/${props.userId}` : '#'}>{props.reply.replyTo}</a></span>\n                        </Row>\n                        <Row>\n                        <span className=\"comment-date\">{timeStamp}</span>   \n                        </Row>\n                    </Col>\n                    <Col sm={1} md={1}>\n                        {/* pass in logged in user and full comment / reply object */}\n                            <span className={onClickBackground ? \"like-mousedown comment-likes\" : \"like-mouseup comment-likes\" } \n                                    onClick={() => props.handleReplyLike(props.commentId, props.reply.replyId, props.userId)}  \n                                        onMouseDown={handleAddBackground} \n                                        onMouseUp={handleRemoveBackground}>\n                                <span className={props.reply.commentLikes.includes(props.userId) ? \"comment-liked\" : \"comment-not-liked\"}>\n                                    {props.reply.commentLikes.length}\n                                    <i class=\"fa fa-arrow-up\"></i>\n                                </span>\n                            </span>\n                    </Col>\n                </Row>\n                <Row>   \n                    <Col sm={12} md={12}>\n                        <p className=\"reply-item\">{props.reply.reply}</p>\n                    </Col>\n                </Row>\n        \n                {!showReply && props.isAuth && \n                <Row>\n                    <Col sm={1} md={1}>\n                        <Button  variant=\"outline-success\" \n                        onClick={handleShowReply}>Reply</Button>\n                    </Col>\n                    <Col sm={10} md={10}>\n                        <Button  variant=\"outline-danger\"\n                        onClick={() => props.handleReplyDelete(props.reply)}>Delete</Button>\n                    </Col>\n                    \n                </Row>\n                }\n\n                <Row>\n                    <Col>\n                        <ReplyForm \n                        // props\n                        user={props.reply.user}\n                        commentId={props.commentId}\n\n                        comment={props.reply}\n                        replyChangeHandler={props.handleReplyChange}\n                        handleSubmitReply={props.handleSubmitReply}\n                        handleReplyDelete={props.handleReplyDelete}\n                        replyValue={props.replyValue}\n                        \n                        // show-hide reply form\n                        showReply={showReply} \n                        showReplyInput={handleShowReply} \n                        closeReplyInput={handleCloseReply} \n                        />\n                    </Col>\n                </Row>\n            </Container>\n        </React.Fragment>\n    )\n}\n\n\nexport default ContextWrapper(ReplyItem)\n","import React, { useState} from 'react';\nimport { Container, Button, Col, Row, Image } from 'react-bootstrap';\nimport ReplyForm from './replyForm'\nimport ReplyItem from './replyItem'\n\nimport ContextWrapper from '../../ContextWrapper';\n\n\nconst  CommentItem = props => {\n\n    const [ showReply, setShowReply ] = useState(false);\n    const handleShowReply = () => setShowReply(true)\n    const handleCloseReply = () => setShowReply(false)\n\n    const [ onClickBackground, setBackground ] = useState(false)\n    const handleAddBackground = () => setBackground(true)\n    const handleRemoveBackground = () => setBackground(false)\n\n\n\n    let timeStamp =   (Date.now() - props.comment.date)/1000 <= 20 ? 'now' :\n\n                    // SECONDS\n                    (Date.now() - props.comment.date)/1000 < 60 ? \n                        `${Math.round((Date.now() - props.comment.date)/1000)} seconds ago` :\n                    // MINUTES\n                    (Date.now() - props.comment.date)/1000/60 === 1 ? \n                        `${Math.round((Date.now() - props.comment.date)/1000/60)} minute ago` :\n                    (Date.now() - props.comment.date)/1000/60 < 60 ? \n                        `${Math.round((Date.now() - props.comment.date)/1000/60)} minutes ago` :\n                    // HOURS\n                    (Date.now() - props.comment.date)/1000/60/60 === 1 ? \n                        `${Math.round((Date.now() - props.comment.date)/1000/60)} hour ago` :\n                        `${Math.round((Date.now() - props.comment.date)/1000/60/60)} hours ago`;\n\n    return (\n        \n        <React.Fragment>    \n                <Container style={{ \n                            borderTop: '1px solid black', \n                            margin: '1em 0 0 0',\n                            padding: '1em 0 0 0 ',\n                            // backgroundColor: 'blue',\n                            }}>    \n                    <Row>\n                        <Col sm={1} md={1} >\n                            <div className=\"comment-avatar-container\">\n                                <a href={props.userId !== props.comment.userId ? `/profile/${props.userId}` : ''}>{props.comment.avatarImage ? <Image src={`/${props.comment.avatarImage}`} width=\"80px\" /> : <i class=\"fa fa-user fa-3x\"></i> }</a>           \n                            </div>\n                        </Col>\n                        <Col sm={10} md={10}>\n                            <p className=\"user-comment\"><a href={props.userId !== props.comment.userId ? `/profile/${props.userId}` : '#'}>{props.comment.username}</a></p>\n                            <p className=\"comment-date\">{timeStamp}</p>\n                        </Col>\n                        <Col sm={1} md={1}>\n                            {/* pass in logged in user and full comment / reply object */}\n                        <span className={onClickBackground ? \"like-mousedown comment-likes\" : \"like-mouseup comment-likes\" } \n                            onClick={() => props.handleCommentLike(props.comment, props.userId)} \n                                onMouseDown={handleAddBackground} \n                                onMouseUp={handleRemoveBackground}>\n                           <span className={props.comment.commentLikes.includes(props.userId) ? \"comment-liked\" : \"comment-not-liked\"}>\n                                {props.comment.commentLikes.length}\n                                <i class=\"fa fa-arrow-up\"></i>\n                            </span>\n                        </span>\n                            \n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col sm={12} md={12}>\n                            <p className=\"comment-item\">{props.comment.comment}</p>\n                        </Col>\n                    </Row>\n                   \n                  {props.isAuth &&  <Row>\n                        <Col sm={1} md={1} >\n                            {!showReply && <Button variant=\"outline-success\"\n                            onClick={handleShowReply}>Reply</Button>}\n                        </Col>\n                        <Col sm={10} md={10} >\n                            <Button  variant=\"outline-danger\"\n                            onClick={() => props.handleCommentDelete(props.comment.commentId)}>Delete</Button>\n                        </Col>\n                        <Col sm={1} md={1}>\n\n                        </Col>\n                    </Row> }\n\n                    <Row>\n                        <Col>            \n                            <ReplyForm \n                                // replyForm props\n                                // commentId={props.comment.commentId}\n                                comment={props.comment}  //!!!!\n\n                                // show-hide reply form\n                                showReply={showReply} \n                                showReplyInput={handleShowReply} \n                                closeReplyInput={handleCloseReply} \n\n                                // reply props\n                                replyChangeHandler={props.handleReplyChange}\n                                handleSubmitReply={props.handleSubmitReply}\n                                handleReplyDelete={props.handleReplyDelete}\n                                replyValue={props.replyValue}\n                                />\n\n\n                            {props.comment.replies.map(reply => (\n                                <ReplyItem \n                                    // replyItem props\n                                    reply={reply}\n                                    // comment={props.comment}\n                                    timeStamp={props.timeStamp}\n                                    commentId={props.comment.commentId}\n                                    handleReplyChange={props.handleReplyChange}\n                                    handleReplyDelete={props.handleReplyDelete}\n                                    handleReplyLike={props.handleReplyLike}\n                                    handleSubmitReply={props.handleSubmitReply}\n                                    replyValue={props.replyValue}\n\n                                    // show-hide reply form\n                                    handleShowReply={handleShowReply} \n                                    showReply={showReply} \n                                    />\n                            ))}\n\n                        </Col>\n                    </Row>\n                </Container> \n        </React.Fragment>\n    )\n}\n\n\nexport default ContextWrapper(CommentItem)","import React, { Component } from 'react';\nimport { Form, Button, Col, Row, Container, Image } from 'react-bootstrap';\nimport axios from 'axios';\n\nimport { UserConsumer } from '../../UserContext'\nimport ContextWrapper from '../../ContextWrapper'\n\nclass CommentForm extends Component {\n\n    state = {}\n\n   changeHandler = e => {\n        this.props.commentChangeHandler(e.target.value)\n    }\n\n    render() {\n    \n        return (\n            <React.Fragment>\n                <Container>\n                <UserConsumer>\n                    {value=> (\n                    <>\n                    <Row>\n                        <Col>\n                            <div className=\"comment-avatar-container\">\n                                <Image src={`/${value.avatarImage}`} width=\"60px\" />\n                                {/* <i class=\"fa fa-user fa-2x\"></i>      */}\n                            </div>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col sm={1} md={1} ></Col>\n                        <Col sm={10} md={10}>\n                         \n                            <Form>\n                                <Form.Group controlId=\"exampleForm.ControlTextarea1\">                            \n                                <Form.Control as=\"textarea\" style={{width: '400px'}} name=\"comment\" onChange={this.changeHandler} \n                                    value={this.props.comment}\n                                    className=\"comment-area\" rows=\"3\" \n                                        placeholder={this.onFocus ? 'Write a comment' : `Posting as ${value.username}`} \n                                    />                            \n                                </Form.Group>   \n\n                                <Button variant=\"outline-primary\"\n                                    onClick={() => this.props.handleSubmitComment(this.props.comment)}>Publish</Button>              \n                            </Form>\n                         \n                           \n                        </Col>\n                        <Col sm={1} md={1} ></Col>\n                    </Row>\n                        </>\n                        )}\n                        </UserConsumer>\n                    </Container>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default ContextWrapper(CommentForm) ","import React, { Component } from 'react'\n\nimport { Col, Row, Container } from 'react-bootstrap';\nimport CommentItem from './commentItem'\nimport CommentForm from './commentForm'\n\nimport axios from 'axios';\nimport uuid from 'uuid'\n\nimport { UserConsumer } from '../../UserContext'\nimport ContextWrapper from '../../ContextWrapper';\n\n\nclass Comments extends Component {\n\n    state = {\n        img: 'img',\n        comment:'',\n        reply: '',\n        savedComments: [],\n        commentsObject: {\n            comments: [],\n        },\n        comments: [],\n    }\n\n\n\n    static getDerivedStateFromProps(props, state) {\n        if(props.userId !== state.userId) {\n            return {\n                userId: props.userId\n            }\n        }\n    }\n\n\n    // GET INITIAL COMMENTS ON PAGELOAD\n    componentDidUpdate(prevProps) {\n\n        if(this.props.articleId !== prevProps.articleId) {\n\n        axios.get(`/comments/${this.props.articleId}`)\n        .then(res => {\n                if(res.data) {\n                    this.setState({  \n                        commentsObject: res.data,\n                        })\n                }\n            })  \n        }\n    }\n\n\n    handleCommentChange = value => {\n        this.setState({\n            comment: value,\n            })\n    }\n\n\n    // DONE\n    handleSubmitComment = () => {\n\n        const userComment = {\n            commentId: uuid.v4(),\n            userId: this.props.userId,\n            avatarImage: this.props.avatarImage,\n            commentLikes:[],\n            username: this.props.username,\n            comment: this.state.comment,\n            date: Date.now(),\n            replies: [],\n        }\n\n        const updatedComments = {\n                articleId: this.props.articleId,\n                comments: [ ...this.state.commentsObject.comments, userComment ],\n                closed: false,\n            }\n    // commentsId is the articleId\n                axios.put(`/comments/update/${this.props.articleId}`, updatedComments)\n                .then(res => {\n                    this.setState({\n                        commentsObject: res.data,\n                        comment:'',\n                    })                     \n                })  \n    }\n\n\n    //DONE\n    handleCommentDelete = commentId => {\n        \n        this.setState({\n            comments: this.state.commentsObject.comments.filter(comment => {\n                return comment.commentId !== commentId\n            })\n        }, \n            () => {\n\n                const commentsObj = {\n                    articleId: this.state.articleId,\n                    comments: this.state.comments,\n                    closed: false,\n                }\n\n                    axios.put(`/comments/update/${this.props.articleId}`, commentsObj)\n                    .then(res => {\n                        this.setState({\n                            resData: res.data\n                        }, () => {\n\n                            axios.get(`/comments/${this.props.articleId}`)\n                            .then(res => {\n                                    if(res.data) {\n                                        this.setState({  \n                                            commentsObject: res.data,\n                                            comment:'',\n                                            })\n                                    }\n                            })\n                        }    \n                    )\n                })\n            })\n    }\n\n\n\n    handleReplyChange = value => {\n        this.setState({\n            reply: value\n        })\n    }\n\n\n\n    //commentID MUST be the top level comment id, user should be the user of the reply button clicked on    \n    handleSubmitReply = repliedToComment => {\n\n        const replyObject = {\n            username: this.props.username,\n            avatarImage: this.props.avatarImage,\n            userId: this.props.userId,\n            commentLikes:[],\n            commentId: repliedToComment.commentId,\n            replyId: uuid.v4(),\n            replyTo: repliedToComment.username,\n            reply: this.state.reply,\n            date: Date.now(), \n        }\n\n        this.setState({\n            comments: this.state.commentsObject.comments.map(comment => {\n                if(comment.commentId === repliedToComment.commentId) { \n                return {\n                    ...comment, replies: [ ...comment.replies, replyObject] \n                        }\n                } else  {\n                    return comment\n                }\n            })\n            }, () => {\n               \n                this.setState(prevState => {\n                        let commentsObject = Object.assign({}, prevState.commentsObject)\n                            commentsObject.comments = this.state.comments\n                            return { commentsObject}\n                \n                    }, () => {\n\n                        axios.put(`/comments/update/${this.props.articleId}`, this.state.commentsObject)\n                        .then(res => {\n                            \n                            axios.get(`/comments/${this.props.articleId}`)\n                            .then(res => {\n                                    if(res.data) {\n                                        this.setState({  \n                                            commentsObject: res.data,\n                                            reply:'',\n                                            })\n                                    }\n                            }) \n                        })\n                        \n                    })    \n            })  \n    }\n\n\n    handleCommentLike = (repliedToComment, userId) => {\n\n        this.setState({\n            comments: this.state.commentsObject.comments.map(comment => {\n                if(comment.commentId === repliedToComment.commentId) {\n                    if(comment.commentLikes.includes(userId)) {\n                        return {\n                            ...comment, commentLikes: comment.commentLikes.filter(like => {\n                                                            return like != userId\n                                                        })\n                            }\n                            } else {\n                                return {\n                                    ...comment, commentLikes: [ ...comment.commentLikes, userId ]\n                                }\n                            }\n\n                } else {\n                    return comment\n                }\n                \n            })\n        }, () => {\n            this.setState(prevState => {\n                let commentsObject = Object.assign({}, prevState.commentsObject)\n                commentsObject.comments = this.state.comments\n                return { commentsObject }\n\n            }, () => {\n                axios.put(`comments/update/${this.props.articleId}`, this.state.commentsObject)\n                .then(res => {\n                    this.setState({\n                        commentsObject: res.data\n                    })\n                })\n            })\n        })\n\n    }\n\n\n    handleReplyLike = (commentId, replyId, userId) => {\n\n        this.setState({\n            comments: this.state.commentsObject.comments.map(comment => {\n                if(comment.commentId === commentId) {\n                    return {\n                        ...comment, replies: comment.replies.map(reply => {\n                            if(reply.replyId === replyId) {\n                                if(reply.commentLikes.includes(userId)){\n                                    return {\n                                        ...reply, commentLikes: reply.commentLikes.filter(like => {\n                                            return like != userId\n                                        })\n                                    }\n                                } else {\n                                    return {\n                                        ...reply, commentLikes: [ ...reply.commentLikes, userId ]\n                                    } \n                                }\n                               \n                            } else {\n                            return reply\n                        }\n                    })\n                }\n                } else {\n                    return comment\n                }\n            })\n        }, () => {\n            this.setState(prevState => {\n                let commentsObject = Object.assign({}, prevState.commentsObject)\n                commentsObject.comments = this.state.comments\n                return { commentsObject }\n\n            }, () => {\n                axios.put(`comments/update/${this.props.articleId}`, this.state.commentsObject)\n                .then(res => {\n                    this.setState({\n                        commentsObject: res.data\n                    })\n                })\n            })\n        })\n    }\n\n\n\n    handleReplyDelete = replyToDelete => {\n\n        this.setState({\n\n            updatedReplies: this.state.commentsObject.comments.map(comment => {\n                return {\n                    ...comment, replies: comment.replies.filter(reply => \n                        reply.replyId !== replyToDelete.replyId)\n                }\n               \n            })\n        }, \n        \n        () => {\n\n            const commentsObj = {\n                articleId: this.state.articleId,\n                comments: this.state.updatedReplies,\n                closed: false,\n            }\n\n            axios.put(`/comments/update/${this.props.articleId}`, commentsObj)\n            .then(res => {\n                this.setState({\n                    commentsObject: res.data\n                })\n            })\n        })\n    }\n\n\n\n render() {\n     return(\n\n        <Container>\n            {/* articleID::::  {this.props.articleId} ... here <br/><br/> */}\n            {/* {JSON.stringify(this.state.commentsObject)} */}\n            <UserConsumer>\n                {value => (\n                    <>\n                    {value.isAuth && <Row>\n                        <Col sm={2} md={2} ></Col>\n                        <Col sm={8} md={8}>\n                        \n                            <CommentForm \n                                comment={this.state.comment}\n                                handleSubmitComment={this.handleSubmitComment}\n                                commentChangeHandler={this.handleCommentChange}\n                            />\n\n                        </Col>\n                        <Col sm={2} md={2} ></Col>\n                    </Row> }  \n                    </>\n                )}\n                \n            </UserConsumer>\n           \n\n            <Row>\n                <Col>\n                    { this.state.commentsObject.comments.map(comment => (\n                        <CommentItem\n                            // comments\n                            getTimeStamp={this.getTimeStamp}\n                            comment={comment}\n                            handleCommentDelete={this.handleCommentDelete}\n                            handleCommentLike={this.handleCommentLike}\n                            handleReplyLike={this.handleReplyLike}\n\n                            // drilled down to replyForm & replyItem\n                            handleReplyChange={this.handleReplyChange}\n                            handleSubmitReply={this.handleSubmitReply}\n                            handleReplyDelete={this.handleReplyDelete}\n                            replyValue={this.state.reply}\n                        />\n                    ))\n                    }\n                    </Col>\n            </Row>\n\n        </Container>\n\n        )\n    }\n}\n\n\nexport default ContextWrapper(Comments)\n\n\n\n// const timeStamp =   \n//     (Date.now() - props.comment.date)/1000 <= 20 ? \n//         `${Math.round((Date.now() - props.comment.date)/1000/60)} now` :\n//     (Date.now() - props.comment.date)/1000 <= 60 ? \n//         `${Math.round((Date.now() - props.comment.date)/1000/60)} seconds` :\n//     (Date.now() - props.comment.date)/1000/60 <= 60 ? \n//         `${Math.round((Date.now() - props.comment.date)/1000/60)} minutes` :\n//         `${Math.round((Date.now() - props.comment.date)/1000/60/60)} hours`;\n\n","import React from 'react'\nimport { Button } from 'react-bootstrap'\n\nexport default function ToggleFollowButton(props) {\n    return (\n        <Button style={{ margin: '0.7em 0 0 0'}} onClick={props.handleFollow}\n                variant={props.following && props.following.includes(props.authorId) ? 'success' : 'secondary'} >\n                            {props.following && props.following.includes(props.authorId) ? 'Following' : 'Not following'}\n        </Button>\n    )\n}\n","import React from 'react'\nimport { Container } from 'react-bootstrap';\nimport { UserConsumer } from '../../../UserContext'\n\n\nexport default function PostStats(props) {\n\n    return (\n    \n        <Container style={{ margin: '0.5em 0 0 0'}}>\n            <UserConsumer>\n                {value => (\n                    <>\n                        <div className=\"postStats-top\">\n                            {value.isAuth ?\n                                <div onClick={props.handleLike} className={props.userLikes.includes(props.articleId) ? 'postStats-liked' : 'postStats-unliked' }>\n                                    <span>{props.postLikes.length}</span>\n                                    <i class=\"fa fa-thumbs-o-up\" style={{ marginLeft: '10px' }}></i> \n                                </div>\n                            : \n                                <div onClick={() => props.warnLogin()} className='postStats-unliked'>\n                                    <span>{props.postLikes.length}</span>\n                                    <i class=\"fa fa-thumbs-o-up\" style={{ marginLeft: '10px' }}></i> \n                                </div>\n                        }\n                            <div className=\"postStats-length\">\n                                {`${props.readLength} minute read`}\n                            </div>\n                            \n                            <div className=\"postStats-views\">\n                                Views: {props.views ? props.views : 0 }\n                            </div>\n                        </div>\n                        <div className=\"postStats-bottom\">\n\n                        {value.isAuth \n                        ? \n                         <div className={props.readingHistory.includes(props.articleId) ? \"postStats-read\" : \"postStats-unread\" }>\n                            {props.readingHistory.includes(props.articleId) ? <i>Read</i> : 'Unread'} \n                        </div>\n                        :\n                        ''\n\n                        }\n                           \n                           \n                        </div>     \n                </>   \n                )}  \n            </UserConsumer>\n        </Container>\n    )\n}\n\n","import React from 'react'\nimport { Container, Row, Col, Image, Button } from 'react-bootstrap';\nimport ToggleFollowButton from '../../utils/toggleFollowButton';\nimport { UserConsumer } from '../../../UserContext'\nimport AuthorThumbnail from '../../utils/authorThumbnail';\nimport PostStats from './postStats'\n\nexport default function PostHeader(props) {\n\n    return (\n        <Container className=\"post-header-container\">\n            <UserConsumer>\n                {value =>(\n                   <>\n                    {/* Post Title */}\n\n                        <Row style={{ margin: '0 0 1.5em 0' }}>\n                            <Col md={1}></Col>\n                            <Col md={10} className=\"center\">\n                                <h1 className=\"postHeader-title\">{props.post.title}</h1>\n                            </Col>\n                            <Col md={1}></Col>\n                        </Row>\n\n                        <Row className=\"\" style={{ margin: '2em 0' }}>\n                            <Col md={2}></Col>\n                            <Col md={2}> <p className=\"postHeader-topic\">{`In ${props.post.topic}`}</p> </Col>\n                            <Col md={4} className=\"postHeader-tagline center\">{props.post.tagline}</Col>\n                            <Col md={4}></Col>\n                        </Row>\n\n                        {/* Main postHeader image */}\n                        <Row md={1} style={{ marginBottom: '2em' }}>\n                            <Col md={1}></Col>\n                            <Col md={10}>\n                                <div className=\"postHeader-image-container\">\n                                    <Image src={`/${props.post.image}`} width=\"100%\" />\n                                </div>\n                            </Col>\n                        </Row>\n\n\n                    {/* Header Footer */}\n                        <Row className=\"postHeader-details\" style={{ margin: '1em 0' }}>    \n                            <Col md={2}></Col>\n                            <Col md={4}>\n                                <AuthorThumbnail post={props.post} />\n                            </Col>\n\n                            <Col md={3}>\n                                <PostStats\n                                    { ...props }\n                                />\n                            </Col>\n\n                            <Col md={3}> \n                                {value.isAuth && value.userId !== props.post.authorId && \n                                    <ToggleFollowButton \n                                        authorId={props.post.authorId}\n                                        handleFollow={props.post.handleFollow}\n                                        following={props.post.following}\n                                    /> }  \n\n                                {value.isAuth && value.userId === props.post.authorId && \n                                    <Button variant=\"secondary\" onClick={() => props.editUserArticle(props.articleId)}\n                                    > \n                                        Edit post\n                                    </Button> \n                                }  \n                                \n                            </Col>\n\n                        </Row>\n                    </>\n                )}\n            </UserConsumer>\n\n            \n        </Container>\n    )\n}\n","import React from 'react'\nimport { Row, Col, Modal, Image, Button, Form } from 'react-bootstrap';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { UserConsumer } from '../../../UserContext';\nimport ContextWrapper from '../../../ContextWrapper';\n\n\nconst EditPostModal = props => {\n\n        let fileRef = React.createRef();  \n\n        function handleClick() {\n            fileRef.current.click()\n        }\n\n        return (\n\n            <Modal \n                { ...props }  \n                dialogClassName=\"modal-90w\"\n                >\n\n                <Modal.Header  className=\"edit-modal-title-container\">\n                        <Row style={{ marginTop: '1em' }}>\n                            <Col>\n                                <h1 className=\"edit-modal-title\">\n                                    Edit Article\n                                </h1>\n                            </Col>\n                        </Row>\n                </Modal.Header>\n                <Modal.Body>\n                 \n                    <Row>\n                        <Col md={2}></Col>\n                        <Col md={8} style={{ textAlign: 'center'}}>\n                            <div className=\"edit-post-image\">\n                                <Image src={`/${props.image}`} width=\"100%\" />\n                            </div>\n                        </Col>\n                        <Col md={2}></Col>\n                    </Row>\n                    <Row className=\"center\" style={{margin: '1em 0'}} >\n                        <Col>\n                            <input \n                                style={{ display:'none' }} \n                                type=\"file\" \n                                onChange={props.fileChangeHandler} \n                                ref={fileRef} \n                            /> \n                            <Button onClick={handleClick}>Update image</Button>\n                        </Col>\n                    </Row>\n                    <Row>\n                    <Col lg={2} md={1}></Col>\n                    <Col lg={8} md={10}>\n                        <Col>\n                            <Form onSubmit={props.handleSubmit} >\n\n                                <Form.Group>\n                                    <Form.Label>Title</Form.Label> <span className=\"input-chars-remaining\">characters remaining: {props.titleLen}</span>    \n                                    <Form.Control className=\"text-muted\" type=\"text\" id=\"title\" name=\"title\" onChange={props.changeHandler} value={props.title} placeholder=\"Enter a title\" />\n                                </Form.Group>\n                               \n                                <UserConsumer>\n                                    {value => (\n                                        <Form.Group>\n                                            <Form.Label>Author</Form.Label>   \n                                            <Form.Control className=\"text-muted\" type=\"text\" id=\"author\" name=\"author\" value={value.username} />\n                                        </Form.Group>\n                                    )}\n                                </UserConsumer>\n                            \n                                <Form.Group>\n                                    <Form.Label>Tagline</Form.Label>    <span className=\"input-chars-remaining\">characters remaining: {props.taglineLen}</span>     \n                                    <Form.Control className=\"text-muted\" type=\"text\" id=\"tagline\" name=\"tagline\" onChange={props.changeHandler} value={props.tagline} placeholder=\"Enter a description ( props will appear in the thumbnail)\" />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"formGridState\">\n                                <Form.Label>Topic</Form.Label>\n                                    <Form.Control as=\"select\" name=\"topic\" onChange={props.changeHandler} value={props.topic}>\n                                        <option value=\"\">Choose...</option>\n                                        <option value=\"tech\">Tech</option>\n                                        <option value=\"language\">Language</option>\n                                        <option value=\"science\">Science</option>\n                                        <option value=\"self\">Self</option>\n                                        <option value=\"society\">Society</option>\n                                        <option value=\"music\">Music</option>\n                                        <option value=\"geography\">Geography</option>\n                                        <option value=\"code\">Code</option>\n                                        <option value=\"nature\">Nature</option>\n                                        <option value=\"health\">Health</option>\n                                        <option value=\"psych\">Psych</option>\n                                        <option value=\"food\">food</option>\n                                        <option value=\"relationships\">relationships</option>\n                                    </Form.Control>\n                                </Form.Group>\n\n                                <Form.Group controlId=\"post_content\">\n                                    <Form.Label>Post</Form.Label>\n                                    <Editor\n                                        init={{\n                                            plugins: 'link image code',\n                                            toolbar: 'undo redo | bold italic | alignleft aligncenter alignright | code', \n                                            height: 400,\n                                        }}\n                                        id=\"content\"    \n                                        onChange={props.handleEditorChange}\n                                        name=\"content\" \n                                        value={props.content} \n                                        placeholder=\"Write your post\" \n                                    />\n                                </Form.Group>\n                                <Row>\n                                   \n                                    <Col lg={2} md={2} sm={3} xs={2}>\n                                        <Button variant=\"secondary\" onClick={() => props.cancelPostEdit() }>\n                                            Cancel\n                                        </Button>\n                                    </Col>\n                                    <Col lg={2} md={2} sm={3} xs={1}>\n                                        <Button variant=\"primary\" onClick={() => props.submitUpdatedArticle()} >\n                                            Save \n                                        </Button>\n                                    </Col>\n                                    <Col lg={6} md={5} sm={1} xs={1}></Col>\n                                    <Col lg={2} md={3} sm={1} xs={1}>\n                                        <Button size=\"s\" variant='danger' onClick={() => props.deleteUserWarning()}>Delete</Button>\n                                    </Col>\n                                </Row>   \n                                 \n                            </Form>\n                            </Col>\n                             <Col lg={2} md={1}></Col>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <span className=\"center create-post-error\">{props.error}</span>          \n                        </Col>\n                    </Row>                    \n                </Modal.Body>\n                <Modal.Footer>\n                   \n                </Modal.Footer>\n            </Modal>\n\n        )\n\n}\n\n\nexport default ContextWrapper(EditPostModal) ","import React from 'react'\n\nimport { Button, Modal } from 'react-bootstrap';\n\n\n\nexport default function DeleteWarningModal(props) {\n    return (\n\n            <Modal {...props }>\n                <Modal.Header>\n                    <Modal.Title>Delete</Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <p>Are you sure you want to permanently delete this post?</p>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={() => props.closeWarningModal()}>Cancel</Button>\n                    <Button variant=\"danger\" onClick={() => props.deleteUserPost(props.editedPostId)}>Delete</Button>\n                </Modal.Footer>\n            </Modal>   \n\n    )\n}\n","import React, { Component } from 'react';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport Comments from '../../comments/commentsController';\nimport axios from 'axios';\nimport PostHeader from './postHeader';\nimport ContextWrapper from '../../../ContextWrapper';\nimport PostEditModal from './editPostModal'\nimport DeleteWarningModal from '../../utils/deleteWarningModal'\n\n\nclass Post extends Component {\n\n    state = {\n        post: '',\n        topic: '',\n        authorId: '',\n        author: '',\n        post: '',\n        images: [],\n        tags: [],\n        edit_log: [],\n        following: [],\n        views: null,\n        editing: false,\n        deleting: false,\n        deleted: false,\n        postLikes: [],\n        readingHistory: [],\n        readLength: null,\n        userLikes: [],\n        comments: [],\n        views: '',\n        \n    }\n\n    \n    componentDidMount() {\n          \n        const { id } = this.props.match.params\n\n        this.setState({\n            articleId: id\n        })\n\n        //get the post\n        axios.get(`/posts/singlepost/${id}`)\n            .then(res => {\n                this.setState({\n                    post: res.data,\n                    author: res.data.author,\n                    authorId: res.data.authorId,\n                    postLikes: res.data.postLikes,\n                    views: res.data.views.length,\n                }, () => this.getReadLength())\n        })\n\n\n        // get following, likes from logged in user\n        axios.get(`/users/`)\n        .then(res => {\n            this.setState({\n                following: res.data.user.following,\n                userLikes: res.data.user.likes,\n            })\n        })\n        .catch(err => {\n            this.setState({\n                following: null,\n                userLikes: null,\n            })\n        })\n\n    }\n\n\n    componentDidUpdate(prevProps) {\n\n        if(this.props.userId !== prevProps.userId) {\n\n              // increase view count\n              const userObj = { userId: this.props.userId }\n              axios.put(`/posts/update/views/${this.state.articleId}`, userObj)\n              .then(res => {\n                  this.setState({\n                      views: res.data.views.length,\n                  })\n              })\n  \n              // add article to readingHistory\n              const articleId = { articleId: this.state.articleId }\n              axios.put(`/users/update/readinghistory/${this.props.userId}`, articleId)\n              .then(res =>  {\n                  this.setState({\n                      readingHistory: res.data.reading_history,\n                  })\n              })\n        }\n    }\n\n\n    getReadLength = () => {\n\n        const post = this.state.post.content\n        const postReadLength = post.split(' ').length\n\n        let minuteRead = Math.round(postReadLength / 225)\n        if(minuteRead === 0) minuteRead = 1\n            \n            this.setState({\n                readLength: minuteRead\n            })\n    }\n\n\n    handleLike = () => {\n       \n        // update likes for user\n        const obj = { \n            toToggle: this.state.articleId,\n            name: 'likes'\n        }\n\n        axios.put(`users/update/likes/${this.props.userId}`, obj)\n        .then(res => {\n            this.setState({\n                userLikes: res.data.likes,\n            })\n        })\n\n        // update likes on post\n        const userId = { userId: this.props.userId}\n\n        axios.put(`/posts/update/likes/${this.state.articleId}`, userId)\n       .then(res => {\n           this.setState({\n               res: res.data,\n               postLikes: res.data.postLikes\n           })\n       })\n    }\n\n\n\n    handleFollow = () => {\n\n        if(this.state.authorId === this.props.userId) return\n\n        const obj = { \n                toToggle: this.state.authorId,\n                name: 'following'\n            }\n    \n        axios.put(`/users/update/following/${this.props.userId}`, obj) \n            .then(res =>  {\n                this.setState({\n                    following: res.data.following\n                })\n            })\n    }\n\n\n\n    changeHandler = e => {\n        this.setState({\n            [ e.target.name ]: e.target.value,\n            titleLen: 60 - this.state.title.length,\n            taglineLen: 60 - this.state.tagline.length,\n            error: '',\n        })\n    }\n\n\n    handleEditorChange = e => {\n        this.setState({\n            content: e.target.getContent(),\n        })\n    }\n\n\n    editUserArticle = () => {\n\n        axios.get(`/posts/user/post/${this.state.articleId}`)\n        .then(res => {\n            this.setState({\n                post: res.data,\n                editedPostId: res.data._id,\n                image: res.data.image,\n                title: res.data.title,\n                tagline: res.data.tagline,\n                topic: res.data.topic,\n                content: res.data.content,\n                editing: true\n            })\n        })\n    }\n\n\n\n    fileChangeHandler = e => {\n\n        this.setState({ img: e.target.files[0] })\n\n        let formData = new FormData();\n\n        formData.append('image', e.target.files[0])\n        const config = { headers: { 'Content-Type' : 'multipart/form-data' }}\n\n        axios.put(`/posts/user/update/post/image/${this.state.editedPostId}`, formData, config)\n        .then(res => {\n\n            this.setState({\n                image: res.data.image        \n            })\n        })\n    }\n\n\n    submitUpdatedArticle = () => {\n\n        if(this.state.title.length < 5 || this.state.title.length > 60 || this.state.tagline.length < 5 || this.state.tagline.length > 60 ) {\n            this.setState({\n                error: 'The title and tagline should be between 5 and 40 characters long'\n            })\n            return \n        }\n\n        const updatedPost = {\n            articleId: this.state.editedPostId,\n            title: this.state.title,\n            tagline: this.state.tagline,\n            topic: this.state.topic,\n            content: this.state.content,\n        }\n\n        axios.put(`/posts/user/update/post/getone`, updatedPost)\n        .then(res => {\n            this.setState({\n                post: res.data,\n                author: res.data.author,\n                authorId: res.data.authorId,\n                postLikes: res.data.postLikes,\n                views: res.data.views.length,\n                editing: false,\n            }, () => this.getReadLength())\n        })\n    }\n\n\n    cancelPostEdit = () => {\n\n        this.setState({\n            editing:false,\n            editedPostId: null,\n            title: null,\n            tagline:null,\n            topic:null,    \n            content: null,\n        })\n    }\n\n\n    deleteUserWarning = () => {\n\n        this.setState({\n            deleting: true\n        })\n    }\n\n    closeWarningModal = () => {\n\n        this.setState({\n            deleting: false\n        })\n    }\n\n\n    deleteUserPost = id => {\n\n        axios.delete(`/posts/user/delete/post/${this.props.userId}`, { data: { articleId: id }})\n        .then(res => {\n            this.setState({\n                editing: false,\n                deleting: false,\n                deleted: true,\n            })\n        })\n    }\n\n\n\n    render() {\n\n        return (\n\n            !this.state.deleted ?\n\n\n            <Container>\n                <Row>\n                    <Col>\n                        <PostHeader \n                            { ...this.state }\n\n                            // readLength={this.state.readLength}\n                            // postLikes={this.state.postLikes}\n                            // views={this.state.views}\n                            // warnLogin={this.props.warnLogin}\n\n\n                            handleLike={() => this.handleLike()}\n                            handleFollow={() => this.handleFollow(this.state.authorId)}\n                            editUserArticle={this.editUserArticle}\n                            warnLogin={this.props.warnLogin}\n                        />\n                    </Col>\n                </Row>\n                \n\n                <Row style={{ margin: '2em 0' }}>\n                    <Col md={2}></Col>\n                    <Col md={8}>\n                        <div dangerouslySetInnerHTML={{ __html: this.state.post.content }} />\n                    </Col>\n                    <Col md={2}></Col>\n                </Row>\n\n                <hr />\n                \n                <Row style={{ margin: '2em 0'}}>\n                    <Col md={2}></Col>\n                    <Col md={8}>\n                        <h4>{`${this.state.post.comments} Comments`}</h4>\n                    </Col>\n                    <Col md={2}></Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <Comments \n                            handleLike={this.handleLike}\n                            post={this.state.post}\n                            articleId={this.state.articleId}\n                        />\n                    </Col>\n                </Row>\n\n\n                <PostEditModal \n                    show={this.state.editing} \n                    title={this.state.title}\n                    image={this.state.image}\n                    tagline={this.state.tagline}\n                    topic={this.state.topic}\n                    content={this.state.content}\n                    editedPostId={this.state.editedPostId}\n                    error={this.state.error}    \n                    img={this.state.img}\n\n                    titleLen={this.state.titleLen}\n                    taglineLen={this.state.taglineLen}\n                    changeHandler={this.changeHandler}\n                    handleEditorChange={this.handleEditorChange}\n                    fileChangeHandler={this.fileChangeHandler}\n                    \n                    submitUpdatedArticle={this.submitUpdatedArticle} \n                    cancelPostEdit={this.cancelPostEdit} \n                    deleteUserWarning={this.deleteUserWarning}\n                />\n                    \n\n                <DeleteWarningModal \n                    editedPostId={this.state.editedPostId}\n                    show={this.state.deleting} \n                    onHide={this.state.deleting} \n\n                    closeWarningModal={this.closeWarningModal}\n                    deleteUserPost={this.deleteUserPost}\n                />    \n\n\n            </Container>\n            \n            :\n\n\n            <Container>\n\n                <Row className=\"center\">\n                    <Col>\n                        <h1>Post deleted</h1>\n                    </Col>\n                </Row>\n                <Row className=\"center\" style={{ margin: '3em 0' }}>\n                    <Col>\n                        <Button href=\"/home\">Ok</Button>\n                    </Col>\n                </Row>\n            </Container>\n        )\n    }\n}\n\nexport default ContextWrapper(Post);\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Container, Row, Col, Image } from 'react-bootstrap'\nimport AuthorThumbnail from '../../utils/authorThumbnail'\nimport ContextWrapper from '../../../ContextWrapper';\n\nfunction topicHeaderPost(props) {\n\n    const bookmark = \n        props.savedArticles && props.isAuth ?\n            <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                    \"fa fa-bookmark-o bookmark-icon\" : \n                    \"fa fa-bookmark bookmark-icon\" }\n                    id={props.post._id}\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => props.toggleSaveHandler(props.post._id)}>\n                </i>\n            : ''\n\n    return (\n\n        <Container style={{ margin: '3em 0' }}>\n            <Row>\n                <Col md={8}>\n                    <Row>\n                        <Col>\n                            <div className=\"topicHeaderPost-image-container\">\n                                <Link to={`/readpost/${props.post._id}`}>\n                                    <Image src={`/${props.post.image}`} width=\"100%\" />\n                                </Link>    \n                            </div>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col md={4}>\n                    <Row>\n                        <Col>\n                            <Link to={`/readpost/${props.post._id}`}>\n                                <h1 className=\"topicHeaderPost-title\">{props.post.title}</h1>\n                            </Link>    \n                        </Col>\n                        <Col md={1} style={{ marginTop: '0.5em' }}>\n                            {bookmark}    \n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <Link to={`/readpost/${props.post._id}`}>\n                                <p className=\"topicHeaderPost-tagline\">{`${props.post.tagline}`}</p>\n                            </Link>    \n                        </Col>\n                      \n                    </Row>\n                    <Row style={{ margin: '0.6em 0' }}>\n                        <Col style={{ padding: '0' }}>\n                            <AuthorThumbnail \n                                post={props.post} \n                            />\n                        </Col>\n                    </Row>\n                </Col>\n            \n            </Row>\n   \n        </Container>\n    )\n\n}\n\n\nexport default ContextWrapper(topicHeaderPost)","import React from 'react'\nimport { Row, Col, Image } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport ContextWrapper from '../../../ContextWrapper';\nimport AuthorThumbnail from '../../utils/authorThumbnail'\n\nconst TopicItem = props => {\n\n    const bookmark = \n    props.savedArticles && props.isAuth ?\n        <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                \"fa fa-bookmark-o bookmark-icon\" : \n                \"fa fa-bookmark bookmark-icon\" }\n                id={props.post._id}\n                style={{ cursor: 'pointer' }}\n                onClick={() => props.toggleSaveHandler(props.post._id)}>\n            </i>\n        : ''\n\n    return (\n\n        <> \n            <Row>\n                <Col>\n                    <Link to={`/readpost/${props.post._id}`}>\n                        <div className=\"topicPageItem-image-container\">\n                            <Image src={`/${props.post.image}`} width=\"100%\" /><br />\n                        </div>\n                    </Link>                    \n                </Col>\n            </Row>\n            <Row style={{ margin: '1em 0 0 0' }}>\n                <Col md={10}  sm={10} style={{ padding: '0' }}>\n                    <Link to={`/readpost/${props.post._id}`}>\n                        <h5>{props.post.title}</h5>\n                    </Link>\n                </Col>\n                <Col md={1} >\n                    {bookmark}\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <Link to={`/readpost/${props.post._id}`}>\n                        <p className=\"topicPageItem-tagline\">{props.post.tagline}</p>\n                    </Link>\n                </Col>\n            </Row>\n\n            <Row style={{ marginTop: '0.5em' }}>\n                <Col>\n                    <AuthorThumbnail \n                        post={props.post} \n                    />        \n                </Col>\n               \n            </Row>\n        </>\n    )\n}\n\nexport default ContextWrapper(TopicItem)\n\n\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport { Container, Row, Col } from 'react-bootstrap'\n\nimport TopicHeaderPost from './topicHeaderPost'\nimport TopicPageItem from './topicPageItem'\nimport ContextWrapper from '../../../ContextWrapper'\n\n\nclass TopicPage extends Component {\n\n    state = {\n        topicArray: [],\n        loading: true,\n    }\n\n    componentDidMount() {\n        const topic = this.props.match.params.topic\n        this.setState({\n            topic: topic\n        })\n        axios.get(`/posts/topic/${topic}`)\n        .then(res => {\n            this.setState({\n                topicArray: res.data,\n                loading: false,\n            })\n        })\n    }\n\n\n    render() {\n\n        return (\n            <Container>   \n            <Row>\n                <Col>\n                    <h1 className=\"topic-page-header\">{this.state.topic}</h1>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <hr />\n                </Col>\n            </Row>\n            \n\n            {this.state.loading ? '' : \n                <>\n                    <Row>\n                        <Col>\n                            {this.state.topicArray.length < 1 ? 'No posts on this topic yet...' :    \n                                <TopicHeaderPost \n                                    post={this.state.topicArray[0]}\n                                    savedArticles={this.props.savedArticles}\n                                    toggleSaveHandler={this.props.toggleSaveHandler}\n                                    isAuth={this.props.isAuth}\n                                />\n                            }\n                        </Col>\n                    </Row> \n                    <Row>\n                        <Col>\n                            <hr />\n                        </Col>\n                    </Row>\n                    <Row style={{margin: '2em 0'}}>\n                        {this.state.topicArray.slice(1, 4).map(post => (\n                            <Col md={4}>\n                                <TopicPageItem \n                                    post={post}\n                                    savedArticles={this.props.savedArticles}\n                                    toggleSaveHandler={this.props.toggleSaveHandler}\n                                    isAuth={this.props.isAuth}\n                                />     \n                            </Col>                   \n                        ))} \n                    </Row>  \n                    <Row>\n                        <Col>\n                            {this.state.topicArray.length < 5 ? '' : \n                                <TopicHeaderPost \n                                    post={this.state.topicArray[4]}\n                                    savedArticles={this.props.savedArticles}\n                                    toggleSaveHandler={this.props.toggleSaveHandler}\n                                    isAuth={this.props.isAuth}\n                                />\n                            }\n                        </Col>\n                    </Row>        \n                    <Row style={{margin: '2em 0'}}>\n                        {this.state.topicArray.slice(5, 8).map(post => (\n                            <Col md={4}>\n                                <TopicPageItem \n                                    post={post}\n                                    savedArticles={this.props.savedArticles}\n                                    toggleSaveHandler={this.props.toggleSaveHandler}\n                                    isAuth={this.props.isAuth}                                \n                                />     \n                            </Col>                   \n                        ))} \n                    </Row>  \n                </>   \n            }\n            </Container>\n        )\n    }\n}\n\nexport default ContextWrapper(TopicPage)","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\n;\n\nexport default function Terms() {\n\n        return (\n                <Container>\n                    <Row>\n                        <Col>\n                            <h1>Terms and Conditions</h1>\n                        </Col>\n                    </Row> \n                    <Row>\n                        <Col>\n                            <h2>Curabitur nec orci viverra</h2>\n                            <p>\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas at elit eu dolor fermentum lacinia nec nec mauris. Nulla facilisi. \n                            Curabitur nec aliquam sapien, in dictum orci. Sed suscipit efficitur tortor vitae porttitor. In hac habitasse platea dictumst. Nunc sed iaculis nunc. \n                            Donec vel urna rutrum, porttitor dui non, facilisis nunc. Sed posuere quis nunc eget laoreet. Fusce dapibus, tortor non mollis suscipit, elit felis finibus purus, eget malesuada sapien nunc nec tellus. Orci varius natoque penatibus \n                            et magnis dis parturient montes, nasc etur ridiculus mus. \n                            \n                            <h2>Curabitur nec orci viverra</h2>\n                            <p>\n                            In eget ipsum eu arcu ullamcorper feugiat. Nulla id iaculis urna, sit am\n                            et porttitor magna. Pellentesque mauris sapien, pulvinar ac luctus finibus, cursus ac tortor. Integer tempor libero at eros elementum feugiat. Suspendisse potenti. Sed in diam eu ex pulvinar faucibus. \n                            Integer purus tortor, eleifend vulputate molestie a, rhoncus vitae diam. Suspendisse ut lobortis leo. Fusce porta risus augue, at pr\n                            etium elit eleifend eget.\n                            </p>\n                            \n                            <h2>Curabitur nec orci viverra</h2>\n                            <p>\n                            Morbi et ligula non enim sagittis sagittis volutpat ac eros. Vestibulum ante ipsum primis in faucibus orci luctus \n                            et ultrices posuere cubilia Curae;Mauris dolor nisi, hendrerit in viverra eu, malesuada sit am\n                            et leo. Ut nec libero massa. Morbi ac egestas nunc, vel faucibus eros. Praesent id quam gravida, tincidunt nisi vitae, mattis nisi. Phasellus at lacus aliqu\n                            et, laoreet felis vitae, consectetur turpis.  Ut ut tristique neque. Curabitur in purus ultricies, lobortis elit eu, scelerisque nisi. Nulla sit amet lorem arcu. Praesent pellentesque lectus at urna porta, scelerisque pellentesque mi efficitur. \n                            Quisque auctor arcu sit amet nunc accumsan tristique. Sed iaculis nibh eu lacus eleifend, a porta orci condimentum. Nunc suscipit dapibus dolor sit amet iaculis. Nunc non efficitur turpis, at tristique arcu. Nulla facilisi. \n                            </p>\n                            \n                            <h2>Curabitur nec orci viverra</h2>\n                            Proin interdum vel felis sit amet consequat. Curabitur nec orci viverra, faucibus dolor vel, fermentum quam. Ut eget semper mauris. Integer ac metus maximus, vestibulum tellus sit \n                            amet, porta diam. Nunc lectus justo, iaculis id porttitor a, sollicitudin a nisi. Duis sed ullamcorper velit. Nulla molestie risus ligula, egestas imperdiet arcu convallis non.  Maecenas interdum, nulla in auctor feugiat, tortor enim faucibus est, \n                            ut congue mi magna in orci. Nullam sed ullamcorper arcu. Sed vehicula sem quis lacus scelerisque, at vulputate quam viverra. Pellentesque luctus commodo est, ut ultrices velit consectetur vel. Integer euismod posuere commodo. Ut dapibus arcu vel aliquet interdum.\n                            </p>\n                        \n                        </Col>\n                    </Row> \n                </Container>\n        )\n}\n","import React from 'react'\nimport { Row, Col, Image } from 'react-bootstrap'\n\nimport AuthorThumbnail from '../../utils/authorThumbnail'\n\n\nexport default function AuthorLatestPostItem(props) {\n    return (\n        <>\n            <Row style={{margin: '2em 0', padding:'2.5em 0', borderTop: '1px dotted #c6c6c6'}}>\n                <Col md={2}></Col>\n                <Col md={5}>\n                    <div className=\"authorLatestPostItem-image-container\">\n                        <Image src={`/${props.post.image}`} width=\"200px\" />\n                    </div>\n                </Col>\n                <Col >\n                    <h4 className=\"authorLatestPostItem-title\">{props.post.title}</h4>\n                    <p className=\"authorLatestPostItem-tagline\">{`${props.post.tagline.substring(0,100)}...`}</p>\n                    <AuthorThumbnail post={props.post} /> \n                </Col>\n            </Row>   \n        </>\n    )        \n}\n","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport { Container, Row, Col, Button, Image } from 'react-bootstrap'\n\nimport ToggleFollowButton from '../../utils/toggleFollowButton';\nimport AuthorLatestPostItem from './authorLatestPostItem'\n\nimport axios from 'axios';\nimport ContextWrapper from '../../../ContextWrapper'\nimport Spinner from '../../utils/spinner';\n\n\n\nclass AuthorProfile extends Component {\n\n    constructor(props) {\n        super(props)\n        \n        this.state={\n            following: [],\n            posts: [],\n            user:'',\n            id:'',\n        }\n    }\n\n\n    componentDidMount() {\n\n        const { id } = this.props.match.params\n\n        this.setState({\n            id: id,\n            loading: true,\n        })\n\n        axios.get(`/users/profile/${id}`)\n        .then(res => {\n            this.setState({\n                user: res.data,\n                id: res.data._id,\n                image: res.data.image,\n                username: res.data.username,\n                joined: res.data.joined,\n                loading: false,\n\n            })\n        })\n        .catch(err => {\n            this.setState({\n                err: err\n            })\n        })\n\n        axios.get(`/posts/user/posts/${id}`)\n        .then(res => {\n            this.setState({\n                posts: res.data\n            })\n        })\n       \n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n\n        if (nextProps.userId !== prevState.prevUserId) {\n          return {\n            prevUserId: nextProps.userId,\n            FollowingOrError: true,\n          };\n        }\n            return null;\n      }\n    \n      componentDidUpdate(prevProps, prevState) {\n\n        if (this.state.FollowingOrError === true) {\n          this.get_user();\n        }\n      }\n      \n\n      get_user = () => {\n        axios.get(`/users/`)\n        .then(res => {\n            this.setState({\n                following: res.data.user.following,\n                FollowingOrError: false,\n            })\n        }) \n      }\n\n\nhandleFollow = id => {\n\n    const toFollow = { toToggle: id, name: 'following'}\n\n    if(id === this.props.userId) return\n\n    axios.put(`/users/update/following/${this.props.userId}`, toFollow) \n        .then(res =>  {\n            this.setState({\n                following: res.data.following\n            })\n        })\n}\n\n\n    render() {\n        \n        if(this.state.id !== null && this.state.id === this.props.userId) {\n            return <Redirect to=\"/editProfile\" />\n        }\n\n        if (this.state.loading) {\n            return (\n            <div className=\"spinner-container\">\n                <Spinner />\n            </div>\n            )\n        } \n\n        return (\n\n            <Container>\n               {/* userId: {this.props.userId}<br/><br/>\n               id: {this.state.id}  */}\n                <Row className=\"center\" style={{margin: '3em 0'}}>\n                    <Col>\n                        <div className=\"profile-page-avatar-container\">\n                            <Image src={`/${this.state.image}`} width=\"200px\" />\n                        </div>\n                    </Col>\n                </Row>\n               \n                <Row className=\"center\">\n                        <Col>\n                            <h1>{this.state.username}</h1>\n                        </Col>\n                    </Row>\n                    <Row className=\"center\" style={{ margin: '3em 0'}}>\n                        <Col>\n                            {this.props.userId ?\n                                <ToggleFollowButton \n                                    authorId={this.state.id}\n                                    following={this.state.following}\n                                    handleFollow={() => this.handleFollow(this.state.id)}    \n                                /> :\n\n                                <Button variant=\"secondary\" disabled>Log in to follow</Button>\n                            }\n                        </Col>\n                    </Row>\n                \n        \n                <Row className=\"center\">\n                    <Col>\n                        <p style={{ color: '#a1a1a1'}}>Member since:  <i>{this.state.joined}</i></p>\n                    </Col>\n                </Row>\n                <Row className=\"center\" style={{ margin: '2em 0'}}>\n                    <Col>\n                        <h2>Latest Articles</h2>\n                    </Col>\n                </Row>\n\n                <Row style={{ margin: '2em 0'}}>\n                            {/* {JSON.stringify(this.state.posts)} */}\n                        {this.state.posts.length < 1 ? \n                        \n                        <Col style={{ color: '#a1a1a1', fontSize: '0.9em'}}>\n                            They appear not to have written anything yet...\n                        </Col> \n\n                        :\n\n                        <Col>\n                            {this.state.posts.map(post => {\n                                return (\n                                    <AuthorLatestPostItem \n                                        post={post}\n                                    />\n                                )\n                            })}\n                        </Col>}\n                </Row>\n            </Container>\n        )\n    }\n}\n\n\nexport default ContextWrapper(AuthorProfile)","import React, { Component } from 'react'\nimport { Form, Button, Container, Row, Col } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\n\n\nimport axios from 'axios'\nimport Spinner from '../../utils/spinner'\n\n\nexport default class CheckEmail extends Component {\n\n    state={\n        loading: false,\n        submitted: false,\n    }\n\n    changeHandler = e => {\n        this.setState({\n            [ e.target.name ]: e.target.value\n        })\n    }\n\n    handleSubmit = e => {\n\n        const email = { email: this.state.email }\n\n        this.setState({ loading: true, })\n\n        axios.post('/users/sendemail', email)\n        .then(res => {\n           \n           this.setState({\n               submitted: true,\n               msg: res.data.msg,\n               sendingEmail: false,\n               loading: false,\n           }) \n       })\n       .catch(err => console.log(err));\n    }\n\n\n    render() {\n    \n        if(this.state.loading) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        return (\n\n            this.state.submitted ?\n\n                <Container>\n                <Row className=\"user-message\">\n                    <Col>\n                        <h1>{this.state.msg.title}</h1>\n                    </Col>\n                </Row>\n                <Row className=\"user-message\">\n                    <Col>\n                        <h5>{this.state.msg.body}</h5>\n                    </Col>\n                    \n                </Row>\n            \n                {this.state.msg.showRedirect && <Row className=\"user-message\">\n                    <Col>\n                        <Link className=\"link-as-button\"\n                            to={{pathname: this.state.msg.to, \n                                state: { id: this.state.id, email: this.state.email, set: true }}} \n                            >{this.state.msg.btnTxt}\n                        </Link>\n                    </Col>\n                </Row> }\n\n            </Container>\n            \n            : \n\n            <Container>\n            {this.state.email}\n            <Row className=\"user-message\">\n                <Col sm={2}></Col>\n                <Col>\n                    <h1>Oops! You need to confirm your email first</h1>\n                    <h6>Enter your email to see if you're in our system</h6>\n                </Col>\n                <Col sm={2}></Col>\n            </Row>\n            <Row>\n                <Col sm={3} md={3}></Col>\n                <Col sm={6} md={6}>\n                    <Form>\n                    <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Control onChange={this.changeHandler} name=\"email\" type=\"email\" value={this.state.email} placeholder=\"Enter email\" />\n                    <Form.Text className=\"text-muted center\">\n                        We'll never share your email with anyone else.\n                    </Form.Text>\n                    </Form.Group>\n                    </Form>\n                    <p style={{color: 'red'}}>{this.state.error}</p>\n                </Col>    \n            </Row>\n            <Row className=\"user-message\">\n                <Col sm={3}></Col>\n                <Col >\n                    <Button onClick={this.handleSubmit}>Check email</Button>\n                </Col>\n                <Col sm={3}></Col>\n            </Row>\n        </Container>\n\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Redirect, Link } from 'react-router-dom'\nimport { Form, Button, Container, Row, Col, Modal } from 'react-bootstrap'\nimport Spinner from '../../utils/spinner'\n\nimport ContextWrapper from '../../../ContextWrapper'\n\n\nclass LoginPage extends Component {\n\n    \n    constructor(props) {\n        super(props);\n\n        this.state = { redirectTo: null}\n    }\n\n\n    handleChange = e => {\n        this.props.changeHandler(e)\n    }\n\n\n    render() {\n\n        if(this.state.spinner) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        if(this.state.redirectTo) {\n            return <Redirect to={this.state.redirectTo} />\n        }\n\n        return (\n           \n            <Container>\n                <Row className=\"show-grid\">\n                <Col sm={2} md={2}></Col>\n                <Col className=\"center\" sm={8} md={8}>\n                    <p style={{fontSize: '0.9em', color:'#656565',\n                    marginBottom: '5%'\n                    }}>Stay up to date with all our articles \n                        and get our personalized recommendations about\n                        all the things that are important to you.</p>\n                </Col>\n                <Col sm={2} md={2}></Col>\n                </Row>\n\n                <Row>\n                    <Col sm={3} md={3}></Col>\n                    <Col sm={6} md={6}>\n\n                        <Form onSubmit={this.props.handleUserLogin}>\n                            <Form.Group>\n                                <Form.Label>Email</Form.Label>    \n                                <Form.Control className=\"text-muted\" type=\"email\" id=\"email\" name=\"email\" onChange={this.changeHandler} value={this.state.email} />\n                            </Form.Group>\n                            <Form.Group>\n                                <Form.Label>Password</Form.Label>\n                                <Form.Control className=\"text-muted\" type=\"password\" id=\"password\" name=\"password\" onChange={this.changeHandler} value={this.state.password} />\n                            </Form.Group>   \n                            <Row style={{ margin: \"2% 0\"}}>\n                            <Col className=\"center\">\n                            <Button type=\"submit\">Login</Button>\n                            </Col>\n                         </Row>                 \n                        </Form>\n\n                    </Col>\n                    <Col sm={3} md={3}></Col>\n                </Row>\n                <Row className=\"center\" style={{color: 'red'}}>\n                    <Col>\n                        <p>{this.state.error}</p>\n                    </Col>\n                </Row>\n                <Row className=\"center\">\n                    <Col style={{ fontSize: '0.8em'}}>\n                        <Link to=\"/forgotpassword\" style={{ color: '#2c4a93'}}>Forgot password?</Link>\n                    </Col>\n                </Row>\n\n\n\n                {/* Switch to sign up */}\n                <Row style={{ margin: \"2% 0\"}}>\n                    <Col className=\"center\">\n                        <p>Now account? <span onClick={event => {this.props.hideLogin(); this.props.showSignup();}} style={{marginLeft: '1%', color:'#0069d9', cursor: 'pointer'}}>Create one</span></p>\n                    </Col>\n                </Row>\n                <Row style={{ margin: \" 5% 0 2% 0\", color: '#656565', fontSize: '0.9em'}}>\n                    <Col sm={1} md={1}></Col>\n                    <Col sm={10} md={10} className=\"center\">  \n                        We log user data and share \n                        it with service providers to keep our site running. Click “Sign in” \n                        above to accept  ourTerms of Service and Privacy Policy.\n                    </Col>\n                    <Col sm={1} md={1}></Col>\n                </Row>\n                </Container>\n\n        )\n    }\n}\n\nexport default ContextWrapper(LoginPage)\n","import React, { Component } from 'react'\nimport { Form, Button, Container, Row, Col, Modal } from 'react-bootstrap'\nimport { Link, Redirect } from 'react-router-dom'\n\nimport axios from 'axios'\nimport Spinner from '../../utils/spinner'\n\n\nexport default class ForgotPassword extends Component {\n\n    state={\n        submitted: false,\n        spinner: false,\n    }\n\n    changeHandler = e => {\n        this.setState({\n            [ e.target.name ]: e.target.value\n        })\n    }\n\n    handleSubmit = e => {\n\n        e.preventDefault();\n\n        const email = { email: this.state.email }\n\n        this.setState({\n            spinner: true\n        })\n\n        axios.post('/users/recoverpassword', email)\n        .then(res => {\n           \n           this.setState({\n               submitted: true,\n               msg: res.data.msg,\n               spinner: false,\n           }) \n       })\n       .catch(err => {\n            this.setState({\n                submitted: false,\n                error: \"That email appears not to be in our system\",\n                spinner: false,\n            }) \n       });\n    }\n\n\n    render() {\n    \n\n        return (\n\n            this.state.submitted ?\n            \n            <Container>\n\n                <Row className=\"user-message\">\n                    <Col>\n                        <h1>{this.state.msg.title}</h1>\n                    </Col>\n                </Row>\n                <Row className=\"user-message\">\n                    <Col>\n                        <h5>{this.state.msg.body}</h5>\n                    </Col>\n                    \n                </Row>\n                {this.state.id}\n            \n                {this.state.msg.showRedirect && <Row className=\"user-message\">\n                    <Col>\n                        <Link className=\"link-as-button\"\n                            to={{pathname: this.state.msg.to, \n                                state: { id: this.state.id, email: this.state.email, set: true }}} \n                            >{this.state.msg.btnTxt}\n                        </Link>\n                    </Col>\n                </Row> }\n\n            </Container>\n           \n            : \n\n            <Container>\n          \n                <Row className=\"user-message\" style={{margin: '2em 0'}} > \n                    <Col sm={2}></Col>\n                    <Col>\n                        <h1>Login Recovery</h1>\n                    </Col>\n                    <Col sm={2}></Col>\n                </Row>\n                <Row className=\"center\" style={{margin: '2em 0'}}> \n                    <Col>\n                        <h6>Enter your email and we'll send you a link to reset your password</h6>\n                    </Col>\n                </Row>\n                <Row style={{margin: '2em 0'}}>\n                    <Col sm={3} md={3}></Col>\n                    <Col sm={6} md={6}>\n                        <Form>\n                            <Form.Group controlId=\"formBasicEmail\">\n                            <Form.Control onChange={this.changeHandler} name=\"email\" type=\"email\" value={this.state.email} placeholder=\"Enter email\" />\n                        \n                            </Form.Group>\n                        </Form>\n                        <p style={{color: 'red'}}>{this.state.error}</p>\n                    </Col>    \n                </Row>\n                <Row>\n                    <Col className=\"center\" style={{marginBottom:'3%'}}>  \n                        <Button variant=\"dark\" onClick={this.handleSubmit}> {this.state.spinner ? \n                            <span><Spinner spinning=\"spinning\" size=\"1x\" /></span> : 'Send' }\n                        </Button>\n                    </Col>\n                </Row>\n\n            </Container>\n\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Redirect, Link } from 'react-router-dom'\nimport { Form, Button, Container, Row, Col, Modal } from 'react-bootstrap'\n\nimport Spinner from '../../utils/spinner'\nimport ContextWrapper from '../../../ContextWrapper'\nimport axios from 'axios'\n\n\nclass SetNewPassword extends Component {\n\n\n    state={\n        loading: false,\n        passwordUpdated: false,\n        type: 'password',\n        password: '',\n        password2: '',\n        match: 'none',\n        noMatch: 'none',\n    }\n\n\n    componentDidMount(){\n\n        const { token }  = this.props.match.params\n\n        this.setState({\n            token: token,\n            loading: true,\n        })\n\n        axios.post(`/users/confirmpasswordrecover/${token}`)\n        .then(res => {\n            if(res.status === 200){\n               this.setState({\n                   redirectTo: null,\n                   loading: false,\n               })\n            }\n        })\n        .catch(err => {\n            this.setState({\n                redirectTo: '/login',\n                loading: false,\n            })\n        })\n    }\n\n\n    changeHandler = e => {\n        this.setState({\n            error: '',\n            [ e.target.name ] : e.target.value,\n        }, () => {\n            if(this.state.password === this.state.password2) {\n                this.setState({\n                    match: 'inline',\n                    noMatch: 'none',\n                })\n            } else {\n                this.setState({\n                    match: 'none',\n                    noMatch: 'inline',\n                })\n            }\n        })\n    }\n\n\n    toggleViewPassword = () => {\n        this.state.type === \"password\" ? this.setState({ type: 'text' }) : this.setState({ type: 'password' })\n    }\n\n\n\n\n    handleSubmit = e => {\n\n        e.preventDefault();\n\n        if(this.state.password == '' || this.state.password2 == '') {\n            this.setState({\n                error: 'Please fill both fields',\n            })\n            return\n        }\n\n        if(this.state.password !== this.state.password2) {\n            this.setState({\n                error: 'Make sure both passwords match',\n            })\n            return\n        }\n\n        this.setState({\n            loading: true,\n        })\n\n        const updatedPwd = {\n            password: this.state.password,\n        }\n\n        axios.post(`/users/setnewpassword/${this.state.token}`, updatedPwd)\n            .then(res => {\n                this.setState({\n                    msg: res.data.msg,\n                    loading: false,\n                    passwordUpdated: true,\n                })\n            })\n            .catch(err => {\n                this.setState({\n                    error: 'There was a problem resetting your password',\n                    loading: false,\n                })\n            })\n    }\n\n\n    render() {\n\n        if(this.state.loading) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n    \n        \n        if(this.state.redirectTo) {\n            return <Redirect to={this.state.redirectTo} />\n        }\n\n        return ( \n\n            this.state.passwordUpdated ? \n\n                <Container>\n\n                    <Row className=\"user-message\">\n                        <Col>\n                            <h1>{this.state.msg.title}</h1>\n                        </Col>\n                    </Row>\n                    <Row className=\"user-message\">\n                        <Col>\n                            <h5>{this.state.msg.body}</h5>\n                        </Col>\n                        \n                    </Row>\n                    {this.state.id}\n                \n                    {this.state.msg.showRedirect && <Row className=\"user-message\">\n                        <Col>\n                            <Link className=\"link-as-button\"\n                                to={{pathname: this.state.msg.to, \n                                    state: { id: this.state.id, email: this.state.email, set: true }}} \n                                >{this.state.msg.btnTxt}\n                            </Link>\n                        </Col>\n                    </Row> \n                    }\n\n                </Container>\n\n                :\n\n                <Container>\n\n                    <Row className=\"show-grid\">\n                    <Col sm={2} md={2}></Col>\n                    <Col className=\"center\" sm={8} md={8}>\n                        <p style={{fontSize: '0.9em', color:'#656565',\n                        marginBottom: '5%'\n                        }}>Choose a new password</p>\n                    </Col>\n                    <Col sm={2} md={2}></Col>\n                    </Row>\n                    <Row>\n                        <Col sm={3} md={3}></Col>\n                        <Col sm={6} md={6}>\n\n                            <Form>\n                                <Form.Group>\n                                    <Form.Label>New password</Form.Label> {this.state.password && <span style={{marginLeft: '2em', color: \"8e8e8e\", fontSize: \"0.8em\", textDecoration:'underline', cursor:'pointer' }} onClick={this.toggleViewPassword}>view</span>} \n                                    <Form.Control className=\"text-muted\" onChange={this.changeHandler} type={this.state.type} name=\"password\" onChange={this.changeHandler} value={this.state.password} />\n                                </Form.Group>\n                                <Form.Group>\n                                    <Form.Label>Repeat password</Form.Label>\n                                    <Form.Control className=\"text-muted\"  onChange={this.changeHandler}  type={this.state.type} name=\"password2\" onChange={this.changeHandler} value={this.state.password2} />\n                                </Form.Group>   \n                                <Row style={{ margin: \"2% 0\"}}>\n                                <Col className=\"center\" style={{marginBottom:'3%'}}>  \n                                    <Button variant=\"success\" onClick={this.handleSubmit}> {this.state.spinner ? \n                                        <span><Spinner spinning=\"spinning\" size=\"1x\" /></span> : 'Save' }\n                                    </Button>\n                                </Col>\n                                <Col md={1}>\n                                    <i class=\"fa fa-check green\" style={{display: this.state.match}} ></i>\n                                    <i class=\"fa fa-times red\" aria-hidden=\"true\"  style={{display: this.state.noMatch}} ></i>\n                                </Col>\n                            </Row>                 \n                            </Form>\n\n                        </Col>\n                        <Col sm={3} md={3}></Col>\n                    </Row>\n                    <Row className=\"center\" style={{color: 'red'}}>\n                        <Col>\n                            <p>{this.state.error}</p>\n                        </Col>\n                    </Row>\n\n                </Container>\n            )\n    }\n}\n\nexport default ContextWrapper(SetNewPassword)","export default function getDate(date) {\n            var dd = date.getDate()\n            var mm = date.getMonth()\n          \n            var dates = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec']\n          \n            var year = date.getYear()\n            var yyyy = year-100\n          \n            var now = `${dates[mm]} ${dd} ${yyyy}`\n            \n            return now\n          }\n\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport { Form, Button, Container, Row, Col, Image } from 'react-bootstrap'\n\nimport axios from 'axios'\nimport Spinner from '../../utils/spinner'\nimport getDate from '../../utils/getDate'\n\n\nexport default class SignUpForm extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: '',\n            image: null,\n            password: '',\n            password2: '',\n            match: 'none',\n            noMatch: 'none',\n            error: null,\n            redirect: false,\n            submitted: false,\n            set: false,\n        }\n    }\n\n\n    componentWillMount(){\n        if(this.props.location.state) {\n            const { id } = this.props.location.state;\n            const { email } = this.props.location.state;\n            const { set } = this.props.location.state;    \n       \n            this.setState({\n                id: id,\n                email: email,\n                set: set,\n            })\n        } else {\n            return \n        }\n    }\n\n    changeHandler = e => {\n        this.setState({\n            error: '',\n            [ e.target.name ] : e.target.value,\n        }, () => {\n            if(this.state.password === this.state.password2) {\n                this.setState({\n                    match: 'inline',\n                    noMatch: 'none',\n                })\n            } else {\n                this.setState({\n                    match: 'none',\n                    noMatch: 'inline',\n                })\n            }\n        })\n    }\n\n\n    toggleViewPassword = () => {\n        this.state.type === \"password\" ? this.setState({ type: 'text' }) : this.setState({ type: 'password' })\n    }\n\n\n    fileChangeHandler = e => {\n        const img = e.target.files[0];\n\n        let formData = new FormData()\n        formData.append('image', img)\n        const config = { headers: { 'Content-Type' : 'multipart/form-data' }}\n\n\n        axios.put(`users/update/image/${this.state.id}`, formData, config)\n        .then(res => {\n            this.setState({\n                data: JSON.stringify(res.data),\n                image: res.data.image     \n            })\n        })\n    }\n\n\n    handleSignUp = e => {\n        e.preventDefault();\n\n        let newDate = new Date()\n        let dateNow = getDate(newDate)\n\n        if(this.state.password == '' || this.state.password2 == '') {\n            this.setState({\n                error: 'Please fill out all fields'\n            })\n            return\n        }\n\n        this.setState({ loading: true })\n\n        const newUser = {\n            username: this.state.username, \n            email: this.state.email, \n            password: this.state.password, \n            joined: dateNow.toString(),\n            }\n    \n        axios.put(`/users/signup/${this.state.id}`, newUser)\n         .then(res => {\n\n            this.setState({\n                title: res.data.msg.title,\n                body: res.data.msg.body,\n                btnTxt: res.data.msg.btnTxt,\n                to: res.data.msg.to,\n                email: res.data.email,\n                submitted: true,\n                loading: false,\n            }) \n        })\n    \n    }\n\n    render() {\n\n        if(this.state.loading) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        return (\n\n            !this.state.submitted ?\n\n            <Container>\n\n                <Row className=\"show-grid center\" style={{ margin: \"8% 0 2% 0\"}}>\n                    <Col>\n                        <h1>Complete Sign Up</h1>\n                    </Col>\n                </Row>\n          \n                <Row className=\"show-grid\">\n                    <Col sm={3} md={3}></Col>\n                \n                    <Col sm={3} md={3}></Col>\n                </Row>  \n                <Row>\n                    <Col md={4}></Col>\n                    <Col>\n                    </Col>\n                    <Col md={4}></Col>\n                </Row>\n\n                <Row>\n                    <Col sm={2} md={2}></Col>\n                    <Col sm={8} md={8}>\n                        <Form>\n                            <Row>\n                                <Col md={4}></Col>\n                                <Col md={4}>\n                                    <Image src={this.state.image ? this.state.image : 'default-avatar.jpg'} width=\"150px\" />\n                                </Col>\n                                <Col md={4}></Col>\n                            </Row>\n\n                            <Row></Row>\n                            <Form.Group controlId=\"formBa/users/signup/${this.state.id}sicName\">\n                                <Form.Control \n                                    style={{display:'none'}} \n                                    ref={fileUpload => this.fileUpload = fileUpload} \n                                    type=\"file\" onChange={this.fileChangeHandler} \n                                    id=\"image\" name=\"image\" />\n                                    <Button onClick={() => this.fileUpload.click()}>Upload image</Button>\n                            </Form.Group>\n                            <Form.Group controlId=\"formBasicName\">\n                                <Form.Label>Username</Form.Label>\n                                <Form.Control type=\"text\" placeholder=\"Enter a username\" onChange={this.changeHandler} name=\"username\" value={this.state.username} />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"formBasicEmail\">\n                                <Form.Label>Email</Form.Label>\n                                <Form.Control type=\"email\" placeholder=\"Enter your email\" name=\"email\" value={this.state.email} />\n                            </Form.Group>\n                            <Form.Group controlId=\"formBasicPassword\">\n                                <Form.Label>Password</Form.Label>\n                                <Form.Control type=\"password\" placeholder=\"Choose a password\" onChange={this.changeHandler} name=\"password\" value={this.state.password} />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"formBasicPassword\">\n                                <Form.Label>Repeat Password</Form.Label>\n                                <Form.Control type=\"password\" placeholder=\"Repeat your password\" onChange={this.changeHandler} name=\"password2\" value={this.state.password2} />\n                            </Form.Group>\n                        </Form>\n                        </Col>\n                  \n                </Row>\n                <Row className=\"center\" style={{color: \"red\", margin: '1em 0'}}>\n                    <Col>\n                        {this.state.error}\n                    </Col>\n                </Row>\n    \n                <Row>\n                    <Col md={5}></Col>\n                    <Col md={2} className=\"center\" >\n                        <Button onClick={this.handleSignUp} variant=\"secondary\" size=\"lg\" type=\"submit\">Join</Button>\n                    </Col>\n                    <Col md={2} className=\"center\" >\n                        <i class=\"fa fa-check green\" style={{display: this.state.match}} ></i>\n                        <i class=\"fa fa-times red\" aria-hidden=\"true\"  style={{display: this.state.noMatch}} ></i>\n                    </Col>\n                </Row>\n               \n        \n            </Container>\n\n            :\n\n            <Container>\n                {this.state.id}\n                <Row className=\"user-message\">\n                    <Col sm={2}></Col>\n                    <Col>\n                        <h1>{this.state.title}</h1>\n                    </Col>\n                    <Col sm={2}></Col>\n                </Row>\n                <Row className=\"user-message\">\n                    <Col sm={2}></Col>\n                        <Col sm={8}>\n                            <h5>{this.state.body}</h5>\n                        </Col>\n                    <Col sm={2}></Col>\n                </Row>\n                <Row className=\"user-message\">\n                    <Col sm={3}></Col>\n                    <Col >\n                        <Link to={{pathname: this.state.to, state: { id: this.state.id }}} className=\"link-as-button\">{this.state.btnTxt}</Link>\n                    </Col>\n                    <Col sm={3}></Col>\n                </Row>\n            </Container>\n        \n        );\n    }\n}\n\n \n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Container, Row, Col, Button } from 'react-bootstrap'\n\nimport Spinner from '../../utils/spinner'\nimport axios from 'axios';\n\nexport default class Confirm extends Component {\n\n    state={\n        loading: true,\n        msg: '',\n    }\n    \n\n    componentDidMount(){\n\n        const { token } = this.props.match.params\n   \n        axios.post(`/users/confirmemail/${token}`)\n        .then(res => {\n            this.setState({ \n                msg: res.data.msg,\n                id: res.data.id,\n                email: res.data.email,\n                loading: false,\n            })\n        }).catch(err => {\n            this.setState({\n                failed: true,\n                loading: false\n            })\n            console.log(err)\n        })\n    }\n\n\n    render() {\n\n        return (\n\n                <Container>\n                    <Row className=\"user-message\">\n                        <Col>\n                            <h1>{this.state.msg.title}</h1>\n                        </Col>\n                    </Row>\n                    <Row className=\"user-message\">\n                        <Col>\n                            <h5 ytyle={{ color: '#2c8139'}}>{this.state.msg.body}</h5>\n                        </Col>\n                        \n                    </Row>\n                \n                    {this.state.msg.showRedirect && <Row className=\"user-message\">\n                        <Col>\n                            <Link className=\"link-as-button\"\n                                to={{pathname: '/signup', \n                                    state: { id: this.state.id, email: this.state.email, set: true }}} \n                                >{this.state.msg.btnTxt}\n                            </Link>\n                        </Col>\n                    </Row> }\n\n                </Container>\n        ) \n    }\n}\n","import React from 'react'\n\nexport default function Topic(props) {\n\n    return (\n    \n        <div style={{\n                    backgroundImage: `url(assets/topics/${props.topicImage})`,\n                    width: '250px',\n                    height: '125px',\n            }}>\n          \n                <div style={{ \n                        background: 'rgba(0, 0, 0, 0.3)',\n                        width: '250px',\n                        height: '125px',\n                        color: '#fff',\n                        fontSize: '2em',\n                        fontWeight: 'bold',\n                        padding: '1.2em 0',\n                        zIndex: '1',\n                        boxShadow: 'none',\n\n                        }} \n                onClick={props.topicHandler} \n                onMouseEnter={props.mouseEnter}\n                onMouseLeave={props.mouseLeave}\n                >{props.topic}\n                </div> \n        </div> \n       \n    )\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport { Container, Row, Col, Button } from 'react-bootstrap';\n\nimport axios from 'axios';\n\nimport { UserConsumer } from '../../../UserContext'\nimport Topic from './topic';\nimport Spinner from '../../utils/spinner'\n\n\nexport default class ChooseTopics extends Component {\n\n    state = {\n        loading: false,\n        saved: false,\n        chosenTopicsArray: [],\n    }\n\n    componentDidMount(){\n\n        if(this.props.location.state) {\n            this.setState({ \n                id: this.props.location.state.id,\n                hover: false })\n        } else {\n            return\n        }\n    }\n\n    toggleHover = e => {\n        if(e.target.style.boxShadow === 'none'){\n            e.target.style.boxShadow = '0px 0px 38px -6px rgba(92,92,92,1)'\n        } else {\n            e.target.style.boxShadow = 'none'\n        }\n    }\n\n\n    topicHandler = e => {\n\n        let chosen = e.target.textContent.toLowerCase();     \n\n        this.setState({\n            chosenTopicsArray: this.state.chosenTopicsArray.includes(chosen) ? \n        \n                 this.state.chosenTopicsArray.filter(el => {\n                     return el !== chosen\n                 }) : [ ...this.state.chosenTopicsArray, chosen]\n        })\n        \n        if(e.target.style.backgroundColor === 'rgba(0, 0, 0, 0.3)') {\n            e.target.style.backgroundColor = 'rgba(255, 0, 0, 0.6)'\n        } else {\n            e.target.style.backgroundColor = 'rgba(0, 0, 0, 0.3)'\n        }\n    }\n\n    saveTopics = () => {\n\n        const user = {topics: this.state.chosenTopicsArray }\n\n        this.setState({ \n                user: user, \n                loading: true,\n            })\n\n        axios.put(`/users/choosetopics/${this.state.id}`, user)\n        .then(res => {\n            this.setState({\n                title: res.data.msg.title,\n                body: res.data.msg.body,\n                to: res.data.msg.to,\n                btnTxt: res.data.msg.btnTxt,\n                loading: false,\n                saved: true,\n            })\n        })\n      \n    }\n\n    render() {\n\n        if(this.state.loading) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        return (\n\n            this.state.saved ?\n\n            <Container>\n                <Row className=\"user-message\">\n                    <Col sm={2}></Col>\n                    <Col>\n                        <h1>{this.state.title}</h1>\n                    </Col>\n                    <Col sm={2}></Col>\n                </Row>\n                <Row className=\"user-message\">\n                    <Col sm={2}></Col>\n                        <Col sm={8}>\n                            <h5>{this.state.body}</h5>\n                        </Col>\n                    <Col sm={2}></Col>\n                </Row>\n                <Row className=\"user-message\">\n                    <Col sm={3}></Col>\n                    <Col >\n                        <Link to=\"/home\" className=\"link-as-button\">{this.state.btnTxt}</Link>\n                    </Col>\n                    <Col sm={3}></Col>\n                </Row>\n            </Container>\n\n            :\n\n            <Container>\n                <Row style={{ marginBottom: '4%' }}>\n                    <Col className=\"center\">\n                        <h1>Tell us a bit about what you're interested in</h1>\n                    \n                        <p>(Choose as many as you like)</p>\n                    </Col>\n                </Row>\n                <UserConsumer>\n                {value => (\n                    <Row>\n                        <Col>\n                            <div style={{ \n                                display: \"grid\", \n                                gridTemplateColumns: \"repeat(3, 1fr)\",\n                                gridGap: \"10px\",\n                                textAlign: \"center\",\n                                cursor: \"pointer\",\n                                }} >\n                                {value.topics.map(topic => (\n                                    <Topic \n                                        topicHandler={this.topicHandler}\n                                        topic={topic.topic}\n                                        topicImage={topic.image}  \n                                        mouseEnter={this.toggleHover}\n                                        mouseLeave={this.toggleHover}\n                                    />\n                                ))}\n\n                            </div>\n                        </Col>\n\n                    </Row>\n                )}\n                </UserConsumer>\n               \n                <Row style={{ margin: '2% auto'}}>\n                    <Col>\n                        <Button variant=\"dark\" size=\"lg\" onClick={this.saveTopics}\n                        >Save</Button>\n                    </Col>\n                </Row>\n                \n            </Container>\n        )\n    }\n}\n","import React from 'react'\n\nimport { Container, Row, Col, Image, Button } from 'react-bootstrap';\n\n\nexport default function UserArticle(props) {\n    return (\n        <Container style={{ margin: '2em 0'}}>\n            \n            <Row>\n                <Col md={2} sm={0} xs={0}></Col>\n                <Col md={3} sm={3} xs={3}>\n                    <div className=\"userPostsItem-image-container\">\n                        <Image src={props.post.image} width=\"200px\" />\n                    </div>\n                </Col>\n                <Col md={4} sm={8} xs={6}>\n                    <Row>\n                        <Col>\n                            <h4 className=\"userPostsItem-title\">{props.post.title}</h4>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <div className=\"userPostsItem-tagline\">{props.post.tagline}</div>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <div className=\"userPostsItem-date\">{props.post.date}</div>\n                        </Col>\n                    </Row>\n                    <Row >\n                        <Col md={4} sm={2} xs={0}>\n                            <p className=\"userPostsItem-views\">{props.post.views.length} views</p>\n                        </Col>\n                        <Col md={4} sm={2} xs={0}>\n                            <p className=\"userPostsItem-comments\">{props.post.comments} comments</p>\n                        </Col>\n                        <Col md={4} sm={2} xs={0}>\n                            <p className=\"userPostsItem-likes\">{props.post.postLikes.length} likes</p>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col md={1} sm={1} xs={1}>\n                    <Row style={{ margin: '1.5em 0'}}>\n                        <Col>\n                            <Button variant=\"secondary\" onClick={() => props.editUserArticle(props.post._id)}>Edit</Button>\n                        </Col>\n                    </Row>\n                    \n                </Col>\n            </Row>\n\n        </Container>\n    )\n            \n\n}\n","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport ContextWrapper from '../../../../ContextWrapper';\nimport UserPostsItem from './userPostsItem';\n\nimport Spinner from '../../../utils/spinner'\n\nimport EditPostModal from '../../post/editPostModal'\nimport DeleteWarningModal from '../../../utils/deleteWarningModal'\n\nclass UserPostsFeed extends Component {\n\n    state={\n        editing: false,\n        editedPostId: '',\n        post:'',\n        editedPost:'',\n        userArticles: [],\n        deleting: false,\n        titleLen: 40,\n        taglineLen: 40,\n        error: '',\n        redirect: false,\n    }\n\n\n    changeHandler = e => {\n        this.setState({\n            [ e.target.name ]: e.target.value,\n            titleLen: 40 - this.state.title.length,\n            taglineLen: 40 - this.state.tagline.length,\n            error: '',\n        })\n    }\n\n\n    componentDidUpdate(prevProps){\n\n        if(this.props.userId !== prevProps.userId) {\n\n            this.setState({ loading: true })\n\n            axios.get(`/users/userArticles/${this.props.userId}`).\n            then(res => {\n                this.setState({\n                    userArticles: res.data,\n                    loading: false\n                })\n            })\n            .catch(() => {\n                this.setState({\n                    loading: false,\n                    redirect: true,\n                })\n            })\n        }\n    }\n\n\n    editUserArticle = id => {\n\n        this.setState({ loading: true})\n\n        axios.get(`/posts/user/post/${id}`)\n        .then(res => {\n            this.setState({\n                post: res.data,\n                editedPostId: res.data._id,\n                image: res.data.image,\n                title: res.data.title,\n                tagline: res.data.tagline,\n                topic: res.data.topic,\n                content: res.data.content,\n                editing: true,\n                loading: false,\n\n            })\n        })\n    }\n\n\n    fileChangeHandler = e => {\n\n        this.setState({ img: e.target.files[0] })\n\n        let formData = new FormData();\n\n        formData.append('image', e.target.files[0])\n        const config = { headers: { 'Content-Type' : 'multipart/form-data' }}\n\n        axios.put(`/posts/user/update/post/image/${this.state.editedPostId}`, formData, config)\n        .then(res => {\n\n            this.setState({\n                image: res.data.image        \n            })\n        })\n    }\n\n\n\n    submitUpdatedArticle = () => {\n\n        if(!this.state.title || !this.state.tagline || !this.state.content) {\n            this.setState({\n                error: 'Please fill out all fields' , \n            })\n            return\n        }  \n\n        if(this.state.title.length < 5 || this.state.title.length > 40 || this.state.tagline.length < 5 || this.state.tagline.length > 40 ) {\n            this.setState({\n                error: 'The title and tagline should be between 5 and 40 characters long'\n            })\n            return \n        }\n\n        this.setState({ loading: true })\n\n        const updatedPost = {\n            articleId: this.state.editedPostId,\n            title: this.state.title,\n            tagline: this.state.tagline,\n            topic: this.state.topic,\n            content: this.state.content,\n        }\n\n        axios.put(`/posts/user/update/post/getall/${this.props.userId}`, updatedPost)\n        .then(res =>  {\n            this.setState({\n                userArticles: res.data,\n                editing: false,\n                error:'',\n            })\n        })\n        .catch(() => {\n            this.setState({\n                loading: false,\n            })\n        })\n    }\n\n\n    cancelPostEdit = () => {\n\n        this.setState({\n            editing:false,\n            articleId: null,\n            title: null,\n            tagline:null,\n            topic:null,    \n            content: null,\n            error:'',\n        })\n    }\n\n\n    deleteUserWarning = () => {\n        this.setState({\n            deleting: true,\n        })\n    }\n\n    closeWarningModal = () => {\n        this.setState({\n            deleting: false,\n        })\n    }\n\n\n    deleteUserPost = id => {\n\n        this.setState({ loading: true })\n\n        axios.delete(`/posts/user/delete/post/${this.props.userId}`, { data: { articleId: id }})\n        .then(res => {\n            this.setState({\n                userArticles: res.data,\n                editing: false,\n                deleting: false,\n                loading: false,\n            })\n        })\n    }\n\n    render() {\n\n        const title = this.state.userArticles.length < 1 ? \n        <>\n            <h1>No articles yet :o</h1>\n\n            <p style={{margin: '2em 0'}}>Get on and write your first one</p>\n            <Button variant=\"success\" href=\"/createPost\">Write article</Button> \n        </>\n            : \n        <>    \n            <h1>Your articles</h1>\n        </>\n\n    \n        if(this.state.redirect) {\n            return <Redirect to=\"/login\" />\n        } \n\n        if(this.state.loading) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        return (\n            \n            <Container >\n                {/* {JSON.stringify(this.state.newdata)} */}\n\n                <Row style={{ margin: '1em 0'}}>\n                    <Col className=\"center\">\n\n                            {title}\n                    </Col>\n                </Row>\n                <Row style={{ margin: '1em 0' }}>\n                    <Col>\n                        <hr />\n                    </Col>\n                </Row>\n\n                {this.state.userArticles.map(post => {\n                    return (\n                       <UserPostsItem\n                            post={post} \n                            editUserArticle={this.editUserArticle}\n                       />\n                    )\n                })}\n\n                <EditPostModal \n                    show={this.state.editing} \n                    editedPostId={this.state.editedPostId}\n                    title={this.state.title}\n                    image={this.state.image}\n                    tagline={this.state.tagline}\n                    titleLen={this.state.titleLen}\n                    taglineLen={this.state.taglineLen}\n                    topic={this.state.topic}\n                    content={this.state.content}\n                    error={this.state.error}\n                    \n                    changeHandler={this.changeHandler}\n                    fileChangeHandler={this.fileChangeHandler}\n                    submitUpdatedArticle={this.submitUpdatedArticle} \n                    cancelPostEdit={this.cancelPostEdit} \n                    deleteUserWarning={this.deleteUserWarning}\n                    \n                />\n                \n                <DeleteWarningModal \n                    editedPostId={this.state.editedPostId}\n                    show={this.state.deleting} \n                    onHide={this.state.deleting} \n                    \n                    closeWarningModal={this.closeWarningModal}\n                    deleteUserPost={this.deleteUserPost}\n                />    \n\n            </Container>\n            \n        )\n    }  \n}\n\nexport default ContextWrapper(UserPostsFeed)","import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport { Container, Form, Row, Col, Button, Image } from 'react-bootstrap'\nimport { Editor } from '@tinymce/tinymce-react';\n\nimport { UserConsumer } from '../../../UserContext';\nimport ContextWrapper from '../../../ContextWrapper';\n\nimport getDate from '../../utils/getDate'\n\nimport Spinner from '../../utils/spinner'\n\n\nclass CreatePost extends Component {\n  \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            articleId: '',\n            authorId:'',\n            title: '',\n            tagline: '',\n            author: '',\n            content:'',\n            imageFile: null,\n            error: '',\n            saved: false,\n            titleLen: 40,\n            taglineLen: 40,\n            error: '',\n        }\n    }\n\n    handleChange = e => {\n        this.setState({\n            [ e.target.name ]: e.target.value,\n            titleLen: 60 - this.state.title.length,\n            taglineLen: 60 - this.state.tagline.length,\n            error: '',\n        })\n    }\n\n\n    handleEditorChange = e => {\n        this.setState({\n            content: e.target.getContent(),\n        })\n    }\n\n\n    fileChangeHandler = e => {\n\n        this.setState({ imageFile: e.target.files[0]})\n\n        let formData = new FormData()\n        formData.append('image', e.target.files[0])\n        formData.append('articleId', this.state.articleId)\n\n        const config = { headers: { 'Content-Type' : 'multipart/form-data' }}\n\n        axios.post(`/posts/createpost/image`, formData, config)\n        .then(res => {\n            this.setState({\n                data: res.data,\n                image: res.data.image,        \n                articleId: res.data._id\n            })\n        })\n    }\n\n\n\n    handleSubmitPost = e => {\n\n        e.preventDefault();\n\n        if(this.state.imageFile == null) {\n            this.setState({\n                 error: 'Don\\'t forget to upload an image for the post' \n                })\n            return\n        }\n\n        if(!this.state.title || !this.state.tagline || !this.state.content) {\n            this.setState({\n                error: 'Please fill out all fields' , \n            })\n            return\n        }  \n\n        if(this.state.title.length < 5 || this.state.title.length > 60 || this.state.tagline.length < 5 || this.state.tagline.length > 60 ) {\n            this.setState({\n                error: 'The title and tagline should be between 5 and 40 characters long'\n            })\n            return \n        }\n\n\n        let newDate = new Date()\n        let dateNow = getDate(newDate)\n\n        const newPost = {\n                title: this.state.title, \n                author: this.props.username, \n                authorId: this.props.userId,\n                authorAvatar: this.props.avatarImage,\n                tagline: this.state.tagline, \n                date: dateNow.toString(),\n                topic: this.state.topic,\n                comments:0,\n                content: this.state.content,\n            }\n\n        const formData = new FormData();\n\n        const config = { headers: { 'Content-type' : 'multipart / form-data' }}    \n\n        for (var key in newPost) {\n            formData.append(key, newPost[key]);\n        }\n\n        formData.append('image', this.state.imageFile)\n\n        this.setState({\n            formData: formData,\n            loading: true,\n        })\n        \n        axios.put(`/posts/createpost/update/${this.state.articleId}`, formData, config)\n            .then(() => {\n                this.setState({\n                    loading: false,\n                    saved: true,\n                }, () => {\n\n                    this.setState({\n                        title: '',\n                        image: null,\n                        tagline: '',\n                        topic:'',\n                        content:'',\n                        error: '',\n                    }) \n                })\n            })\n    }  \n \n\n    render() {\n\n\n        if (this.props.isAuth == null || this.state.loading) {\n            return (\n            <div className=\"spinner-container\">\n                <Spinner />\n            </div>\n            )\n        } \n\n        if (this.props.isAuth === false){\n            return <Redirect to=\"/login\" />\n        }\n\n        return (\n\n            \n            this.state.saved ?\n\n\n            <Container className=\"center\">\n                <Row>\n                    <Col>\n                        <h1>Post saved</h1>\n                    </Col>\n                </Row>\n                <Row style={{ margin: '3em 0'}}>\n                    <Col>\n                        <Button href=\"/home\">Ok</Button>\n                    </Col>\n                </Row>\n            </Container>\n\n            :\n\n            <Container key={this.props.isAuth}>\n                \n                <Row className=\"center\">\n                    <Col>\n                        <h1>Write a new article</h1>\n                    </Col>\n                </Row>\n\n                 <Row className=\"center\">\n               \n                    <Col>\n                        {this.state.image ? <Image src={`${this.state.image}`} style={{ margin: '3em 0'}} width=\"300px\" /> : ''}\n                    </Col>\n                </Row>\n                <Row className=\"center\">\n                    <Col>\n                        <p className=\"uploaded-create-post-image-text\">{this.state.image}</p>\n                    </Col>\n                </Row>\n\n                \n                <Row className=\"center\" style={{ margin: '1.5em 0 0 0' }}>\n                    <Col>\n                        <input \n                            style={{display:'none'}} \n                            type=\"file\" \n                            onChange={this.fileChangeHandler} \n                            ref={fileInput => this.fileInput = fileInput} /> \n                        <Button \n                            variant=\"secondary\"\n                            onClick={() => this.fileInput.click()}\n                            >Upload image\n                            </Button>\n                    </Col>\n                </Row>\n                \n                <Row>\n                    <Col>\n                        <Form onSubmit={this.handleSubmit} >\n                            <Form.Group>\n                                <Form.Label>Title</Form.Label>  <span className=\"input-chars-remaining\">characters remaining: {this.state.titleLen}</span>     \n                                <Form.Control className=\"text-muted\" type=\"text\" id=\"title\" name=\"title\" onChange={this.handleChange} value={this.state.title} placeholder=\"Enter a title\" />\n                            </Form.Group>\n                          \n                            <UserConsumer>\n                                {value => (\n                                    <Form.Group>\n                                        <Form.Label>Author</Form.Label>    \n                                        <Form.Control className=\"text-muted\" type=\"text\" id=\"author\" name=\"author\" value={value.username} />\n                                    </Form.Group>\n                                )}\n                            </UserConsumer>\n                          \n                            <Form.Group>\n                                <Form.Label>Tagline</Form.Label>    <span className=\"input-chars-remaining\">characters remaining: {this.state.taglineLen}</span>       \n                                <Form.Control className=\"text-muted\" type=\"text\" id=\"tagline\" name=\"tagline\" onChange={this.handleChange} value={this.state.tagline} placeholder=\"Enter a description (this will appear in the thumbnail)\" />\n                            </Form.Group>\n\n                            <Form.Group controlId=\"formGridState\">\n                            <Form.Label>Topic</Form.Label>\n                                <Form.Control as=\"select\" name=\"topic\" onChange={this.handleChange}>\n                                    <option value=\"\">Choose...</option>\n                                    <option value=\"tech\">Tech</option>\n                                    <option value=\"language\">Language</option>\n                                    <option value=\"science\">Science</option>\n                                    <option value=\"self\">Self</option>\n                                    <option value=\"society\">Society</option>\n                                    <option value=\"music\">Music</option>\n                                    <option value=\"geography\">Geography</option>\n                                    <option value=\"code\">Code</option>\n                                    <option value=\"nature\">Nature</option>\n                                    <option value=\"health\">Health</option>\n                                    <option value=\"psych\">Psych</option>\n                                    <option value=\"food\">food</option>\n                                    <option value=\"relationships\">relationships</option>\n                                </Form.Control>\n                            </Form.Group>\n\n                            <Form.Group controlId=\"post_content\">\n                                <Form.Label>Post</Form.Label>\n                                <Editor\n                                init={{\n                                    plugins: 'link image code',\n                                    toolbar: 'undo redo | bold italic | alignleft aligncenter alignright | code', \n                                    height: 400,\n                                }}\n                                id=\"content\"    \n                                onChange={this.handleEditorChange}\n                                name=\"content\" \n                                value={this.state.content} \n                                placeholder=\"Write your post\" \n                            />\n                            </Form.Group>\n\n                            <Button onClick={this.handleSubmitPost}>Save</Button>\n                            <span className=\"center create-post-error\">{this.state.error}</span>\n\n                        </Form>\n                    </Col>\n                </Row>\n\n            </Container>\n\n        )\n    }\n}\n\n\n\nexport default ContextWrapper(CreatePost);\n","import React from 'react'\nimport { Container, Row, Col, Image, Button } from 'react-bootstrap'\n\n\nexport default function SavedArticle(props) {\n\n    return (\n    \n        <>\n            <Row style={{ margin: '1.5em 0'}}>\n                <Col md={2}></Col>\n                <Col md={3}>\n                    <div className=\"savedPostsFeedItem-image-container\">\n                        <Image src={props.post.image} width=\"200px\" />\n                    </div>\n                </Col>\n                <Col md={4}>\n                    <Row>\n                        <Col>\n                            <h4 className=\"savedPostsFeedItem-title\">{props.post.title}</h4>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <div className=\"savedPostsFeedItem-tagline\">{props.post.tagline}</div>\n                        </Col>\n                    </Row>\n                    <Row style={{ marginTop: '0.5em', marginBottom: '0.5em'}}>\n                        <Col>\n                            <div className=\"savedPostsFeedItem-date\">{props.post.author}</div>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <p className=\"savedPostsFeedItem-views\">{props.post.date}</p>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col md={3}>\n                    <Row style={{ margin: '1.5em 0'}}>\n                        <Col>\n                            <Button variant=\"danger\" onClick={() => props.removeSavedArticle(props.post._id)}>Remove</Button>\n                        </Col>\n                    </Row>\n                </Col>\n\n            </Row>\n        </>\n    )\n}\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport ContextWrapper from '../../../../ContextWrapper';\nimport Spinner from '../../../utils/spinner';\nimport SavedPostsFeedItem from './savedPostsFeedItem';\n\n\nclass SavedPosts extends Component {\n\n\n    state={\n        savedArticles: [],\n        redirect: false,\n    }\n\n\n    componentDidUpdate(prevProps){\n        if(this.props.userId !== prevProps.userId ) {\n\n            this.setState({ loading: true })\n            \n            this.getSavedArticles()\n        }\n    }\n\n\n    getSavedArticles(){\n        \n        this.setState({ loading: true })\n        axios.post(`/users/savedarticles/${this.props.userId}`, { name: 'saved_articles' })\n        .then(res => {\n            this.setState({\n                savedArticles: res.data,\n                loading: false,\n            })\n        })\n        .catch(err => {\n            this.setState({ \n                loading: false,\n                redirect: true })\n        })\n    }    \n\n\n    removeSavedArticle = id => {\n\n        const obj = {\n            name: 'saved_articles',\n            toToggle: id\n        }\n\n        axios.put(`/users/update/savedarticles/${this.props.userId}`, obj)\n        .then(() => this.getSavedArticles())\n        }\n\n\n    render() {\n\n        if(this.state.redirect) {\n            return <Redirect to=\"/login\" />\n        } \n\n        if(this.state.loading) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        return (\n            <Container>\n                <h1 className=\"center\" style={{ margin: '1em 0'}}>Saved articles</h1>\n                <Row style={{ margin: '1em 0' }}>\n                    <Col>\n                        <hr />\n                    </Col>\n                </Row>\n\n                {this.state.savedArticles.map(post => {\n                    return (\n                        <SavedPostsFeedItem \n                            post={ post }\n                            removeSavedArticle={this.removeSavedArticle}\n            \n                        />\n                    )\n                })}\n                \n            </Container>\n        )\n    }\n}\n\nexport default ContextWrapper(SavedPosts)","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport  { Row, Col, Container, Form, Button, Image } from 'react-bootstrap'\nimport axios from 'axios'\nimport Spinner from '../../utils/spinner'\nimport ContextWrapper from '../../../ContextWrapper'\nimport { UserConsumer } from '../../../UserContext'\n\n\nclass EditProfile extends Component {\n\n    state = {\n        error: null,\n        editing: false,\n        type: 'password',\n        password: '',\n        password2: '',\n        match: 'none',\n        noMatch: 'none',\n        topics:[],\n        userInterests: [],\n    }\n\n\n    componentDidMount() {\n         axios.get(`/users/`)\n            .then(res =>  {\n                this.setState({\n                    id: res.data.user._id,\n                    username: res.data.user.username,\n                    email: res.data.user.email,\n                    password: null,\n                    image: res.data.user.image,\n                    userInterests: res.data.user.topics.map(int => int.toLowerCase()),\n                })\n            })\n            .catch(err => {\n                this.setState({\n                    error: 'There was a problem fetching your details...',\n                })\n            })   \n    }\n\n    changeHandler = e => {\n        this.setState({\n            error: '',\n            [ e.target.name ] : e.target.value,\n        }, () => {\n            if(this.state.password === this.state.password2) {\n                this.setState({\n                    match: 'inline',\n                    noMatch: 'none',\n                })\n            } else {\n                this.setState({\n                    match: 'none',\n                    noMatch: 'inline',\n                })\n            }\n        })\n    }\n\n\n    toggleViewPassword = () => {\n        this.state.type === \"password\" ? this.setState({ type: 'text' }) : this.setState({ type: 'password' })\n    }\n\n    toggleEdit = () => {\n        this.setState({\n            editing: !this.state.editing\n        })\n    }\n\n    interestHandler = e => {\n\n        const clicked = e.target.value;\n\n        this.setState({\n            userInterests: this.state.userInterests.includes(clicked) ? \n                this.state.userInterests.filter(interest => {\n                    return interest !== clicked\n                 })  :  [ ...this.state.userInterests, clicked ]\n            })\n    }\n\n\n\n    fileChangeHandler = e => {\n        const img = e.target.files[0];\n\n        let formData = new FormData()\n        formData.append('image', img)\n        const config = { headers: { 'Content-Type' : 'multipart/form-data' }}\n\n        axios.put(`/users/update/${this.state.id}`, formData, config)\n        .then(res => {\n            this.setState({\n                message: 'done',\n                image: res.data.image        \n            })\n        })\n    }\n\n\n\n    handleSubmit = e => {\n\n        e.preventDefault();\n\n        const updatedUser = {\n            username: this.state.username,\n            email: this.state.email,\n            password: this.state.password,\n            image: this.state.image,\n            topics: JSON.stringify(this.state.userInterests),\n        }    \n\n        this.setState({\n            test: JSON.stringify(updatedUser)\n        })\n\n        const config = { headers: { 'Content-Type' : 'multipart/form-data' }}\n        let formData = new FormData();\n\n        for (var key in updatedUser) {\n            formData.append(key, updatedUser[key])\n        }    \n        axios.put(`/users/update/${this.state.id}`, formData, config)\n        .then(res => {\n            if(res.status === 200) {\n                this.setState({\n                    data: JSON.stringify(res.data),\n                    username: res.data.username,\n                    email: res.data.email,\n                    image: res.data.image,\n                    editing: false,\n                    userInterests: res.data.topics.map(t => t.toLowerCase()),\n                })\n            }\n        })\n        .catch(err => {\n            this.setState({\n                error: 'There was a problem fetching your details...',\n            })\n        })   \n    }\n\n    render() {\n        \n      \n        if (this.props.isAuth == null) {\n            return (\n            <div className=\"spinner-container\">\n                <Spinner />\n            </div>\n            )\n        } \n\n        if (this.props.isAuth === false){\n            return <Redirect to=\"/login\" />\n        }\n\n        const content = (\n\n            this.state.editing ? \n\n            <>\n            <Row className=\"center\" style={{margin: '3em 0'}} >\n                <Col>\n                    <input \n                        style={{display:'none'}} \n                        type=\"file\" \n                        onChange={this.fileChangeHandler} \n                        ref={fileInput => this.fileInput = fileInput} \n                    /> \n                        \n                        <Button onClick={() => this.fileInput.click()}>Update profile image</Button>\n                </Col>\n                \n            </Row>\n            <Row>\n                <Col sm={3} md={3}></Col>\n                <Col sm={6} md={6}>\n                    <Form >\n                        <Form.Group>\n                            <Form.Label>Username</Form.Label>    \n                            <Form.Control className=\"text-muted\" type=\"text\" id=\"username\" name=\"username\" onChange={this.changeHandler} value={this.state.username} />\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Email</Form.Label>  \n                            <Form.Control className=\"text-muted\" type=\"email\" id=\"email\" name=\"email\" onChange={this.changeHandler} value={this.state.email} />\n                        </Form.Group>  \n                        <Form.Group>\n                            <Form.Label>Change Password</Form.Label>{this.state.password && <span style={{margin: '0 2em', color: \"8e8e8e\", fontSize: \"0.8em\", textDecoration:'underline', cursor:'pointer' }} onClick={this.toggleViewPassword}>view</span>}  \n                            <i class=\"fa fa-check green fa-xs\" style={{display: this.state.match}} ></i>\n                                <i class=\"fa fa-times red\" aria-hidden=\"true\"  style={{display: this.state.noMatch}} ></i>\n                            <Form.Control className=\"text-muted\" type={this.state.type} id=\"password\" name=\"password\" onChange={this.changeHandler} value={this.state.password} />\n                        </Form.Group>\n                        <Form.Group>\n                        <Form.Label>Repeat New Password</Form.Label>   <i class=\"fa fa-check green\" style={{display: this.state.match}} ></i>\n                                <i class=\"fa fa-times red\" aria-hidden=\"true\"  style={{display: this.state.noMatch}} ></i>\n                            <Form.Control className=\"text-muted\" type={this.state.type} id=\"password2\" name=\"password2\" onChange={this.changeHandler} value={this.state.password2} />\n                        </Form.Group>\n\n            \n\n                        <Row style={{margin: '3em 0 1.5em 0'}}>\n                            <Col>\n                                <h3>Your interests</h3>\n                            </Col>\n                        </Row>\n\n                        <UserConsumer>\n                            {value => {\n                                return (\n                                    <Row>\n                                        <Col>\n                                            {value.topics.map(topic => {\n                                            return (\n                                                <>\n                                                <input type=\"checkbox\" onChange={this.interestHandler} value={topic.value} checked={this.state.userInterests.includes(topic.value)} /><span style={{marginLeft: '2em'}}>{topic.topic}</span><br/>\n                                                </>\n                                                )\n                                            })}\n                                        </Col>\n                                    </Row>\n                                )}\n                            }\n                        </UserConsumer>\n                        \n\n                        {/* {this.state.userInterests} */}\n                        <Row style={{ margin: \"3em 0\"}}>\n                            <Col ></Col>\n                            <Col className=\"center\" md={2}>\n                                <Button onClick={this.handleSubmit}>Update</Button>\n                            </Col>\n                         \n                        </Row>\n                    </Form>\n                </Col>\n                <Col sm={3} md={3}></Col>\n            </Row>\n            </>\n\n            :\n\n            <>\n            <Row className=\"center\" style={{ margin: '3em 0'}}>\n                <Col md={3}></Col>\n                <Col>\n                    <p>{this.state.username}</p>\n                    {/* {JSON.stringify(this.state.data)} */}\n                </Col>\n                <Col md={3}></Col>\n            </Row>\n            <Row className=\"center\" style={{ margin: '3em 0'}}>\n                <Col md={3}></Col>\n                <Col>\n                    <p>{this.state.email}</p>\n                </Col>\n                <Col md={3}></Col>\n            </Row>\n         \n            <Row className=\"center\" style={{ margin: '3em 0'}}>\n                <Col>                    \n                    <h5 style={{color: '#4d72ad'}}>Your interests</h5>\n                    <hr />\n                    <p>{this.state.userInterests.map(int => {\n                        return (\n                            <p style={{margin: '1em 0', fontSize: '1.2em', color: '#a1a1a1'}}>{int}</p>\n                        )\n                    })}</p>\n                </Col>\n            </Row>\n            <Row className=\"center\" style={{ margin: '3em 0'}}>\n                <Col md={3}></Col>\n                <Col>\n                    <Button onClick={this.toggleEdit}>Edit</Button>\n                </Col>\n                <Col md={3}></Col>\n            </Row> \n            </>\n        )\n\n\n\n        return (\n\n            <Container>\n                \n                <Row style={{ marginBottom: '3em' }}>\n                    <Col className=\"center\">\n                        <h1>Edit Profile</h1>\n                    </Col>\n                </Row>\n                <Row className=\"center\">\n                    <Col>\n                        <div className=\"profile-page-avatar-container\">\n                            <Image src={this.state.image} width=\"200px\" />\n                        </div>\n                    </Col>\n                </Row>\n                {content}\n            </Container>\n\n        )    \n           \n    }\n}\n\nexport default ContextWrapper(EditProfile) ","import React from 'react'\nimport { Row, Col, Image, Button } from 'react-bootstrap'\n\n\nexport default function UserHistoryItem(props) {\n\n    return (\n    \n        <>\n            <Row style={{ margin: '1.5em 0' }}>\n                <Col lg={0} md={0} sm={0} xs={0}></Col>\n                <Col lg={4} md={5} sm={5} xs={6}>\n                    <div className=\"userHistoryItem-image-container\">\n                        <Image src={props.post.image} width=\"200px\" />\n                    </div>\n                </Col>\n                <Col lg={4} md={5} sm={5} xs={6}>\n                    <Row>\n                        <Col>\n                            <h4 className=\"userHistoryItem-title\">{props.post.title}</h4>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <div className=\"userHistoryItem-tagline\">{props.post.tagline}</div>\n                        </Col>\n                    </Row>\n                    <Row style={{ marginTop: '0.5em', marginBottom: '0.5em'}}>\n                        <Col>\n                            <div className=\"userHistoryItem-date\">{props.post.author}</div>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <p className=\"userHistoryItem-views\">{props.post.date}</p>\n                        </Col>\n                    </Row>\n   \n                </Col>\n                <Col lg={3} md={3} sm={2} xs={12}>\n                    <Row style={{ margin: '1.5em 0'}}>\n                        <Col>\n                            <Button variant=\"danger\" onClick={() => props.deleteHistoryItem(props.post._id)}>Remove</Button>\n                        </Col>\n                    </Row>\n                </Col>\n\n            </Row>\n        </>\n    )\n}\n","import React, { Component } from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport ContextWrapper from '../../../../ContextWrapper';\nimport UserHistoryItem from './userHistoryItem';\nimport Spinner from '../../../utils/spinner';\n\n\nclass UserReadingHistory extends Component {\n\n    state={\n        readingHistory: [],\n        redirect: false,\n    }\n\n    componentDidUpdate(prevProps) {\n\n        if(this.props.userId !== prevProps.userId) {\n\n            this.setState({ loading: true })\n\n            axios.post(`/users/readinghistory/${this.props.userId}`, { name: 'reading_history' })\n            .then(res => {\n                this.setState({\n                    readingHistory: res.data,\n                    loading: false,\n                })\n            })\n            .catch(err => {\n                this.setState({\n                    loading: false,\n                    redirect: true\n                })\n            })\n        } \n    }\n\n\n    deleteHistoryItem = articleId => {\n\n        this.setState({ loading: true })\n\n        axios.put(`/users/delete/readinghistory/${this.props.userId}`, { articleId: articleId })\n        .then(res => {\n            this.setState({\n                readingHistory: res.data,\n                loading: false,\n            })\n        })\n        .catch(() => {\n            this.setState({\n                loading: false,\n            })\n        })\n    }\n\n\n    render() {\n\n        if(this.state.redirect) {\n            return <Redirect to=\"/login\" />\n        } \n\n        if(this.state.loading) {\n            return (\n                <div className=\"spinner-container\">\n                    <Spinner size={2} />\n                </div>\n            )\n        }\n\n        return (\n\n            <Container>\n                {/* {JSON.stringify(this.state.readingHistory)} */}\n                <h1 className=\"center\" style={{ margin: '0 0 1em 0' }}>\n                    Your reading history\n                </h1>\n                <Row style={{ margin: '1em 0' }}>\n                    <Col>\n                        <hr />\n                    </Col>\n                </Row>\n                {/* {JSON.stringify(this.state.readingHistory)} */}\n\n                {this.state.readingHistory.length > 0 &&\n                    this.state.readingHistory.map(post => {\n                        return(\n                    \n                        <UserHistoryItem \n                            post={post} \n                            deleteHistoryItem={this.deleteHistoryItem}\n                        \n                        />\n                    \n                        )\n                })}\n                \n            </Container>\n        )\n    }\n}\n\nexport default ContextWrapper(UserReadingHistory) \n","import React from 'react'\nimport { Button } from 'react-bootstrap'\n\n\nconst FollowButton = props => {\n\n    const followingStatus = props.user.hasOwnProperty('unfollowed')\n\n    return (\n        <Button variant={followingStatus ? 'secondary' : 'success'} \n                            onClick={props.handleFollow}>\n                 {followingStatus ? 'usubscribed' : 'subscribed' }\n        </Button>\n    )\n}\n\nexport default FollowButton","import React from 'react'\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nimport FollowButton from './followButton'\n\nexport default function FollowedUsersListItem(props) {\n\n    return (\n            <Container>\n                <Row style={{borderBottom: '1px dotted #c5c5c5', padding: '1em 0'}} >\n                    <Col md={2}></Col>\n                    \n                    <Col md={3}>\n                        <div className=\"followingFeedItem-image-container\">\n                            <Image src={`/${props.user.image}`} width=\"170px\" />\n                        </div>\n                    </Col>\n                    \n                    <Col md={4} style={{ padding: '1.3em 0 0 0' }}>\n                        <Row>\n                            <Col>\n                                <h5 className=\"followingFeedItem-username\">{props.user.username}</h5>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <p className=\"followingFeedItem-date\">{`Date joined: ${props.user.joined}`}</p>\n                            </Col>\n                        </Row>\n                    </Col>\n                   \n                    <Col style={{ padding: '1.5em 0 0 0' }}>\n                        {props.user && \n                        <FollowButton\n                            handleFollow={() => props.handleFollow(props.user)}\n                            user={props.user}\n                        />}\n                    </Col>\n                </Row>\n            </Container>\n    )\n}\n","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { Container, Row, Col } from 'react-bootstrap'\n\nimport FollowingFeedItem from './followedUsersListItem'\n\nimport Spinner from '../../../utils/spinner';\nimport axios from 'axios';\nimport ContextWrapper from '../../../../ContextWrapper'\n\n\nclass FollowedUsersList extends Component {\n\n    constructor(props) {\n        super(props)\n        \n        this.state={\n            following: [],\n            redirect: false,\n        }\n    }\n    \n      componentDidUpdate(prevProps) {\n        if (this.props.userId !== prevProps.userId) {\n          this.get_following();\n        }\n      }\n\n\n      get_following = () => {\n        \n        this.setState({ loading: true })    \n\n        axios.post(`/users/following/${this.props.userId}`, { name: 'following' })\n        .then(res => {\n            this.setState({\n                loading: false,\n                following: res.data,\n                userOrError: false,\n            })\n        }) \n        .catch(err => {\n            this.setState({\n                redirect: true,\n                loading: false,\n            })\n        })\n      }\n\n\n    handleFollow = updateFollow => {\n  \n        const toFollow = { toFollow: updateFollow._id}\n\n        const deleteProp = ({[key]: _, ...newObj}, key) => newObj\n\n        axios.put(`/users/update/following/${this.props.userId}`, toFollow) \n            \n        .then(\n                this.setState({\n                    following: this.state.following.map(user => {\n                        if(updateFollow._id === user._id) {\n                            return updateFollow.unfollowed === true ? \n                                   deleteProp(user, 'unfollowed')\n                                    : \n                                    { ...updateFollow, unfollowed: true} \n                        } else {\n                            return user\n                        }\n                    })   \n                })\n            )    \n    }\n\n\n    render() {\n\n        if(this.state.redirect) {\n            return <Redirect to=\"/login\" />\n        } \n        \n        if (this.state.loading) {\n            return (\n            <div className=\"spinner-container\">\n                <Spinner />\n            </div>\n            )\n        } \n\n        return (\n\n            <Container>\n                <Row className=\"center\" style={{margin: '4em 0', }}>\n                    <Col>\n                        <h1 className=\"default-page-header\">Who you're following</h1>\n                    </Col>\n                </Row>\n\n                {this.state.following.map(user => (\n\n                    <Row>\n                       <FollowingFeedItem \n                            user={user}\n                            handleFollow={this.handleFollow}\n                       />\n                    </Row>\n                  ))}\n              \n            </Container>\n        )\n    }\n}\n\n\nexport default ContextWrapper(FollowedUsersList)","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Container, Row, Col, Image } from 'react-bootstrap'\nimport AuthorDetails from '../../utils/authorThumbnail'\nimport ContextWrapper from '../../../ContextWrapper';\n\nfunction PopularPostsFeedItem(props) {\n\n    const bookmark = \n        props.savedArticles && props.isAuth ?\n            <i class=   {props.savedArticles.indexOf(props.post._id) === -1 ?\n                    \"   fa fa-bookmark-o bookmark-icon\" : \n                    \"   fa fa-bookmark bookmark-icon\" }\n                    i   d={props.post._id}\n                    s   tyle={{ cursor: 'pointer' }}\n                    o   nClick={() => props.toggleSaveHandler(props.post._id)}>\n                </i>    \n            : ''    \n\n    return (\n        <Container style={{ margin: '2.5em', borderBottom: '1px dotted #c5c5c5' }}>\n                <Row>\n                    <Col md={5}>\n                        <Row>\n                            <Col md={10}>\n                                <Link to={`/readpost/${props.post._id}`}>\n                                    <h4 className=\"popularFeedItem-title\">{props.post.title}</h4>\n                                </Link>\n                            </Col>\n                            <Col md={1} >\n                                {bookmark}    \n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <div className=\"popularFeedItem-tagline\">{props.post.tagline}</div>\n                            </Col>\n                        </Row>\n                        <Row style={{ marginTop: '0.5em', marginBottom: '0.5em'}}>\n                            <Col md={8}>\n                                <Link to={`/readpost/${props.post._id}`}>   \n                                    <AuthorDetails \n                                        post={props.post}\n                                    />\n                                </Link>\n                            </Col>\n                        \n                        </Row>\n                    </Col>\n                    <Col md={3}>\n                        <div className=\"popularFeedItem-image-container\">\n                            <Link to={`/readpost/${props.post._id}`}>\n                                <Image src={props.post.image} width=\"200px\" />\n                            </Link>\n                        </div>\n                    </Col>\n                </Row>\n        </Container>\n    )\n}\n\nexport default ContextWrapper(PopularPostsFeedItem)","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Container, Row, Col, Image } from 'react-bootstrap'\nimport AuthorDetails from '../../utils/authorThumbnail'\nimport ContextWrapper from '../../../ContextWrapper'\n\nfunction PopularHeaderPost(props) {\n\n    const bookmark = \n        props.savedArticles && props.isAuth ?\n            <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                    \"fa fa-bookmark-o bookmark-icon\" : \n                    \"fa fa-bookmark bookmark-icon\" }\n                    id={props.post._id}\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => props.toggleSaveHandler(props.post._id)}>\n                </i>\n            : ''\n\n    return (\n        \n        <Container>\n\n            <Row style={{ margin: '0 0 2em 0' }}>\n                <Col md={8}>\n                    <Row>\n                        <Col>\n                            <div className=\"popularHeaderPost-image-container\">\n                                <Link to={`/readpost/${props.post._id}`}>\n                                    <Image src={`/${props.post.image}`} width=\"100%\" />\n                                </Link>    \n                            </div>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col md={4}>\n                    <Row>\n                        <Col>\n                            <h1 className=\"popularHeaderPost-page-title\">{props.pageTitle}</h1>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col>\n                            <p className=\"popularHeaderPost-page-tagline\">{props.pageTagline}</p>\n                        </Col>\n                    </Row>\n                </Col>   \n            </Row>\n\n            <Row>\n                <Col md={4}>\n                    <Row style={{ margin: '0.5em 0 0 0' }}>\n                        <Col>\n                            <Link to={`/readpost/${props.post._id}`}>\n                                <h3 className=\"popularHeaderPost-title\">{props.post.title}</h3>\n                            </Link>    \n                        </Col>\n                    </Row>\n                    <Row style={{ margin: '0 0 0 0' }}>\n                        <Col>\n                            <Link to={`/readpost/${props.post._id}`}>\n                                <p className=\"popularHeaderPost-tagline\">{`${props.post.tagline}`}</p>\n                            </Link>    \n                        </Col>\n                    </Row>\n                </Col>\n\n                <Col md={3}>\n                    <AuthorDetails post={props.post} />\n                </Col>\n                <Col md={1} style={{ marginTop: '0.5em' }}>\n                    {bookmark}    \n                </Col>\n            </Row>\n        </Container>\n    )\n\n}\n\nexport default ContextWrapper(PopularHeaderPost)","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport axios from 'axios';\nimport PopularPostsFeedItem from './popularPostsFeedItem'\nimport PopularHeaderPost from './popularHeaderPost'\nimport Spinner from '../../utils/spinner'\nimport ContextWrapper from '../../../ContextWrapper'\n\nclass PopularPostsFeed extends Component {\n\n    state={\n        popularPosts:[],\n    }\n\n    componentDidMount(){\n\n        this.setState({ loading: true })\n\n        axios.get('/posts/popular/')\n        .then(res => {\n            this.setState({\n                popularPosts: res.data,\n                loading: false\n            })\n        })\n    }\n\n\n    render() {\n\n        if(this.state.loading) {\n            return (\n              <div className=\"spinner-container\">\n                  <Spinner className=\"spinner\" size='2x' spinning='spinning' />\n              </div>\n            )\n        }\n\n        return (\n\n            <Container>\n              \n                {this.state.popularPosts.length < 1 ? 'No posts on this topic yet...' : \n                    <Row style={{ margin: '3em 0'}}>\n                        <Col>\n                            <PopularHeaderPost \n                                pageTitle={'Popular on our site'}\n                                pageTagline={'All the stuff from our interwebs'}    \n                                post={this.state.popularPosts[0]}\n                                savedArticles={this.props.savedArticles}\n                                toggleSaveHandler={this.props.toggleSaveHandler}\n                                isAuth={this.props.isAuth}\n                            />\n                        </Col>\n                    </Row> \n                }\n\n                <hr />    \n\n                {this.state.popularPosts.slice(1).map(post => {\n                    return(\n                        <PopularPostsFeedItem \n                            post={post} \n                            savedArticles={this.props.savedArticles}\n                            toggleSaveHandler={this.props.toggleSaveHandler}\n                            isAuth={this.props.isAuth}\n                    />   \n                    )\n                })}\n\n            </Container>\n        )\n    }\n}\n\nexport default ContextWrapper(PopularPostsFeed)","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { Container, Row, Col, Image } from 'react-bootstrap'\n\nimport AuthorDetails from '../../../utils/authorThumbnail'\nimport ContextWrapper from '../../../../ContextWrapper';\n\n\nfunction PersonalizedFeedItem(props) {\n\n    const bookmark = \n        props.savedArticles && props.isAuth ?\n            <i class={props.savedArticles.indexOf(props.post._id) === -1 ?\n                    \"fa fa-bookmark-o bookmark-icon\" : \n                    \"fa fa-bookmark bookmark-icon\" }\n                    id={props.post._id}\n                    style={{ cursor: 'pointer' }}\n                    onClick={() => props.toggleSaveHandler(props.post._id)}>\n                </i>\n            : ''\n        \n    return (\n    \n        <Container className=\"PersonalizedFeedItem-container\" style={{ border: '1px dotted #c6c6c6'}}>\n\n            <Row>\n                <Col style={{ padding:'0' }}>\n                    <div className=\"PersonalizedFeedItem-image\" style={{ margin: '0', width: '100%', height: '170px', overflow: 'hidden' }}>\n                        <Link to={`/${props.post._id}`}>\n                            <Image src={props.post.image} width=\"100%\" />\n                        </Link>\n                    </div>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <p className=\"PersonalizedFeedItem-topic\" style={{ color: '#838383', fontSize: '0.8em', margin: '0.6em 0' }}>{props.post.topic}</p>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Link to={`/${props.post._id}`}>\n                    <h4 className=\"PersonalizedFeedItem-title\" style={{ fontSize: '1.2em', fontWeight: 'bold', margin: '0.2em 0' }}>{props.post.title}</h4>\n                </Link>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <div className=\"PersonalizedFeedItem-tagline\" style={{ fontSize: '0.8em', color: '#838383', margin: '0.6em 0' }}>{props.post.tagline}</div>\n                </Col>\n            </Row>\n\n            <Row className=\"PersonalizedFeedItem-author\" style={{ marginBottom: '1em'}}>\n                <Col>\n                    <AuthorDetails \n                           post={props.post}\n                    />     \n                </Col>\n                <Col md={2} style={{ margin: '2.5em 0 0 0' }}>{bookmark}</Col>\n            </Row>\n\n        </Container>\n\n\n    )\n}\n\nexport default ContextWrapper(PersonalizedFeedItem)\n","import React, { Component } from 'react'\nimport { Container, Row, Col } from 'react-bootstrap'\nimport { Redirect } from 'react-router-dom'\nimport axios from 'axios';\nimport ContextWrapper from '../../../../ContextWrapper';\nimport PersonalizedFeedItem from './personalizedFeedItem'\nimport Spinner from '../../../utils/spinner';\n\n\nclass PersonalizedFeed extends Component {\n\n\n    state={\n        personalizedPosts: [],\n        redirect: false,\n    }\n\n    componentDidMount(){\n\n        this.setState({ loading: true })    \n\n        axios.get(`/users/`)\n        .then(res => {\n            // this.setState({ savedArticles: res.data.user.saved_articles })\n           \n            const topicsString = JSON.stringify(res.data.user.topics);\n\n            axios.get(`/posts/personalized/${topicsString}`)\n            .then(res => {\n                this.setState({\n                    personalizedPosts: res.data,\n                    loading: false,\n                })\n            })    \n        })\n        .catch(err => {\n            this.setState({ \n                loading: false,\n                redirect: true,\n            })\n        })\n    }\n\n\n    render() {\n\n        if(this.state.redirect) {\n            return <Redirect to=\"/login\" />\n        } \n        \n        if (this.state.loading) {\n            return (\n            <div className=\"spinner-container\">\n                <Spinner />\n            </div>\n            )\n        } \n\n        return (\n\n            <Container>\n\n                <Row>\n                    <Col>\n                        <h2>Personalized posts</h2>\n                    </Col>\n                </Row>\n\n                <Row style={{ margin:  '1.2em 0' }}>\n\n                {this.state.personalizedPosts.length > 0 && this.state.personalizedPosts.map((post, i) => {\n                        return (\n\n                            <Col md={4} style={{ margin: '1.5em 0'}}> \n                                    <PersonalizedFeedItem \n                                        post={post} \n                                        isAuth={this.props.isAuth}\n                                        toggleSaveHandler={this.props.toggleSaveHandler}\n                                        savedArticles={this.props.savedArticles}\n                                    />\n                                </Col>\n                        )\n                    })\n                }\n                </Row>  \n\n            </Container>\n        )\n    }\n}\n\nexport default ContextWrapper(PersonalizedFeed)\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\n// utils\nimport axios from 'axios'\nimport ContextWrapper from './ContextWrapper';\nimport Spinner from './components/utils/spinner'\nimport Error404 from './components/utils/error404'\n\n// layout\nimport NavBar from './components/layout/navBar'\nimport Footer from './components/layout/footer'\n\n// homepage\nimport Home from './components/pages/homepage/home';\n\n// pages\nimport About from './components/pages/about';\nimport Post from './components/pages/post/post';\nimport TopicPage from './components/pages/topicPage/topicPage'\nimport TermsAndConditions from './components/pages/termsAndConditions'\nimport AuthorProfilePage from './components/pages/authorProfilePage/authorProfilePage'\n\n// auth\nimport CheckEmail from './components/authentication/signup/checkEmail'\nimport LoginPage from './components/authentication/signin/loginPage'\nimport ForgotPassword from './components/authentication/signin/forgotPassword'\nimport SetNewPassword from './components/authentication/signin/setNewPassword'\n\n// signup\nimport SignUpForm from './components/authentication/signup/signUpForm'\nimport Confirm from './components/authentication/signup/confirm'\nimport ChooseTopics from './components/authentication/signup/chooseTopics'\n\n// authRoutes\nimport UserPostsFeed from './components/pages/authRoutes/userPosts/userPostsFeed';\nimport CreatePost from './components/pages/authRoutes/createPost';\nimport SavedPostsFeed from './components/pages/authRoutes/savedPostsFeed/savedPostsFeed'\nimport EditProfile from './components/pages/authRoutes/editProfile'\nimport UserReadingHistory from './components/pages/authRoutes/userHistory/userHistoryFeed'\nimport FollowedUsersList from './components/pages/authRoutes/followedUsersList/followedUsersList'\nimport PopularPostsFeed from './components/pages/popularPostsFeed/popularPostsFeed'\nimport PersonalizedFeed from './components/pages/authRoutes/personalizedFeed/personalizedFeed'\n\n\n// CSS\nimport './styles/App.css';\nimport './styles/Utils.css';\nimport './styles/Thumbnail.css';\nimport './styles/Sidebar.css';\nimport './styles/Pages.css';\nimport './styles/Navbar.css';\nimport './styles/Comments.css';\n\n\nclass App extends Component {\n\n\n  state = {\n    loading: true,\n    redirectTo: null,\n    loginWarning: false,\n    submitted: false,\n    // followedUsers:[],\n  }\n\n\n  componentDidMount(){\n    this.getUser();\n    this.setState({ loading: false, })\n  }\n\n\n  getUser = () => {\n\n    axios.defaults.withCredentials = true;\n    axios.get('/users/'\n    , {withCredentials: true}\n    )\n        .then(res => {\n          if(res.data.user) { \n\n            this.setState({ \n              savedArticles: res.data.user.saved_articles,\n              loading: false,\n            })\n\n              this.props.updateUser({\n                isAuth: true,\n                avatarImage: res.data.user.image,\n                userId: res.data.user._id,\n                username: res.data.user.username,\n            })\n          } else {  \n            this.props.updateUser({\n              isAuth: false,\n              loading: false,\n            })\n          }\n        })\n          .catch(err =>{\n            this.props.user({\n              isAuth: false,\n              userId: null,\n              username: null,\n              loading: false,\n          })\n \n        })\n      }\n\n      componentDidUpdate(prevProps){\n\n        if(this.props.userId !== prevProps.userId) {\n          this.getFollowedUsers();\n        }\n      }\n\n\n\n    getFollowedUsers = () => {\n      axios.post(`/users/following/${this.props.userId}`, { name: 'following' })\n      .then(res => {\n          this.setState({\n              followedUsers: res.data,\n         })\n      })\n      .catch(err => {\n        this.setState({\n          error: 'There was an error fetching your follwed users',\n        })\n      })\n    }\n\n\n    warnLogin = () => {\n      this.setState({\n        loginWarning: !this.state.loginWarning,\n      })\n    }      \n        \n\n    changeHandler = val => {\n      this.setState({\n          [ val.target.name ]: val.target.value,\n          error: '',\n      })\n}\n\n\n  handleUserLogin = e => {\n\n    e.preventDefault();\n\n    this.setState({\n        loading: true,                        \n    })\n\n    const userLogin = {\n        email: this.state.email,\n        password: this.state.password,\n    }\n\n    axios.post('/users/login', userLogin)\n        .then(res => {\n            if( res.status === 200 ) {\n                this.props.updateUser({\n                    username: res.data.user.username,\n                    author: res.data.user.author,\n                    userId: res.data.user._id,\n                    isAuth: true,\n                    avatarImage: res.data.user.image\n                })\n                this.setState({\n                    redirectTo: true,\n                    loading:false,\n                })\n            } \n      })\n        .catch(err => {\n          this.setState({\n              isAuth: false,\n              error: \"There was a problem: Please check your login details.\",\n              password:'',\n              loading:false,\n        })\n    })\n  }\n\n\n  handleUserSignup = e => {\n    e.preventDefault();\n    \n    const re = /^\\S+@\\S+$/\n    if(!re.test(this.state.email)) {\n        this.setState({\n            error: 'Please enter a valid email',\n        })\n        return\n    }\n\n    this.setState({\n        sendingEmail: true,\n    })\n    \n    const emailObj = { email: this.state.email }\n\n    axios.post('/users/sendemail', emailObj)\n    .then(res => {\n        \n        this.setState({\n            msg: res.data.msg,\n            email: res.data.email,\n            submitted: true,\n            sendingEmail: false,\n        }) \n    })\n    .catch(err => console.log(err));\n  }\n\n\n  handleUserLogout = () => {\n\n    this.setState({\n        spinner: true,                        \n    })\n\n    axios.post('/users/logout')\n    .then(res => {\n        if( res.status === 200 ) {\n          this.props.updateUser({\n            username: null,\n            userId: null,\n            isAuth: false,\n\n          })\n          this.setState({\n            loading: false,\n          })\n        } \n  })\n    .catch(err => {\n      console.log(`There was an error: ${err}`)\n        this.setState({\n            data: err,\n            loading: false,\n        })\n    })\n}\n\n\ngetComments = () => {\n    axios.get(`/comments/`)\n}\n\n\ntoggleSidebar = () => {\n\n  this.setState({\n    showSidebar: !this.state.showSidebar\n  })\n  if(document.body.style.overflow === \"hidden\") {\n    document.body.style.overflow = \"visible\"\n  } else {\n    document.body.style.overflow = \"hidden\"\n  }\n}\n\n\n\ntoggleSaveHandler = id => {\n\n  this.setState({\n      savedArticle: id\n  })\n\n  const obj = {\n      toToggle: id, \n      name: 'saved_articles'\n  }\n\n  axios.put(`/users/update/savedArticles/${this.props.userId}`, obj)\n  .then(res => {\n      this.setState({\n          savedArticles: res.data.saved_articles\n      })\n  })\n}\n\n\n\n  render(){\n\n\n    if(this.state.loading) {\n        return (\n          <div className=\"spinner-container\">\n              <Spinner className=\"spinner\" size='2x' spinning='spinning' />\n          </div>\n        )\n    }\n\n    return (\n\n      <Router>\n\n        <div> \n\n          <NavBar \n              handleUserLogout={this.handleUserLogout} \n              warnLogin={this.warnLogin}\n              loginWarning={this.state.loginWarning}\n              handleUserLogin={this.handleUserLogin}\n              error={this.state.error}\n              redirectTo={this.state.redirectTo}\n              handleUserSignup={this.handleUserSignup}\n              changeHandler={this.changeHandler}\n              msg={this.state.msg}\n              email={this.state.email}\n              submitted={this.state.submitted}\n              sendingEmail={this.state.sendingEmail}\n              followedUsers={this.state.followedUsers}\n              showSidebar={this.state.showSidebar}\n              toggleSidebar={this.toggleSidebar}\n          />                  \n\n              <Switch>\n  \n                  {/* Signup / login routes */}\n                  <Route exact path='/confirm/:token' component={Confirm} />\n                  <Route path=\"/checkemail\" component={CheckEmail} />                  \n                  <Route path=\"/forgotpassword\" component={ForgotPassword} />          \n                  <Route path='/choosetopics' component={ChooseTopics} />\n\n\n                  {/* Open routes */}\n                  <Route exact path='/' component={Home} />\n                  <Route exact path='/home' component={Home} />\n                  <Route exact path=\"/topic/:topic\" render={(props) => <TopicPage {...props} savedArticles={this.state.savedArticles} toggleSaveHandler={this.toggleSaveHandler} />} />\n                  <Route path=\"/login\" render={(props) => <LoginPage {...props} handleUserLogin={this.handleUserLogin} redirectTo={this.state.redirectTo} changeHandler={this.changeHandler} /> } />                  \n                  <Route exact path=\"/signup\" component={SignUpForm} />\n              \n                  <Route path=\"/termsandconditions\" component={TermsAndConditions} />                 \n                  <Route path='/about' component={About} />\n\n\n                  {/* Auth protected routes */}\n                  <Route path='/createpost' render={() => <CreatePost isAuth={this.state.isAuth} />} />\n                  \n                  <Route path=\"/savedposts\" render={(props) => <SavedPostsFeed {...props} savedArticles={this.state.savedArticles} toggleSaveHandler={this.toggleSaveHandler} />} />\n                  <Route exact path='/userposts' render={(props) => <UserPostsFeed {...props} userPosts={this.state.userPosts} />} /> \n                  <Route path=\"/setnewpassword/:token\" component={SetNewPassword} />                  \n                  <Route path=\"/editprofile\" component={EditProfile} />                  \n                  <Route path=\"/profile/:id\" component={AuthorProfilePage} />\n\n                  <Route exact path='/personalized' render={(props) => <PersonalizedFeed {...props} savedArticles={this.state.savedArticles} toggleSaveHandler={this.toggleSaveHandler} />} />\n                  <Route exact path='/popular' render={(props) => <PopularPostsFeed {...props} savedArticles={this.state.savedArticles} toggleSaveHandler={this.toggleSaveHandler} />} />\n                 \n                  <Route exact path='/followedusers' component={FollowedUsersList} />\n                  <Route exact path='/userhistory' component={UserReadingHistory} />\n\n                  <Route exact path='/readpost/:id' render={(props) => <Post { ...props } warnLogin={this.warnLogin} /> } />\n\n                  <Route path='/' component={Error404} />\n\n              </Switch>\n              \n            <Footer />\n\n            </div>\n\n        </Router>        \n\n    );\n  }\n}\n\nexport default ContextWrapper(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { UserProvider } from './UserContext'\n\nReactDOM.render(\n    \n        <UserProvider>\n                <App />\n        </UserProvider>, \n\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}